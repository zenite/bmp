
<fm-form-title sn-number="{{base.snNumber}}" apply-date="{{base.applyDate}}" sub-title='base.title' fm-model="base.areaCode"></fm-form-title>
<!--<fm-Group-Head class="print-hide" title="{{ base.$pageLang.PostByInfo }}"></fm-Group-Head>-->
<!--<fm-initiator class="print-hide" jobid='base.jobId' userinfo='base.initiator' taskid='base.taskId'></fm-initiator>-->
<fm-Group-Head title="{{ base.$pageLang.ApplicantInfo }}"></fm-Group-Head>
<div class="row">

    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人名字-->
            <span class="col-xs-2 control-label">{{ "ApplicantName" | translate }}</span>
            <div class="col-xs-4">
                <div class="input-group" style="width: 100%;">
                    <span class="form-label">{{base.applicant.userName}}</span>
                    <span class="input-group-btn" ng-if="!taskid">
                        <button class="btn btn-default" type="button" style="display:none;" ng-click="base.$selectApplicant()">{{ "Choose" | translate }}</button>
                    </span>
                </div>
            </div>
            <!--申请人员工号-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmployeeNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.employeeNumber}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <!--申请人部门线-->
        <div class="col-xs-12">
            <span class="col-xs-2 control-label">{{ "ApplicantDepartment" | translate }}</span>
            <div class="col-xs-10"><span class="form-label">{{base.applicant.departmentName}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人电话-->
            <span class="col-xs-2 control-label">{{ "ApplicantContactNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.contactNumber}}</span></div>
            <!--申请人邮箱-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmail" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.emailAddress}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人手机-->
            <span class="col-xs-2 control-label">{{ "ApplicantMobileNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.mobileNumber}}</span></div>
            <!--申请人直属领导-->
            <span class="col-xs-2 control-label">{{ "ApplicantDirectManager" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.directManagerName}}</span></div>
        </div>
    </div>
</div>
<fm-Group-Head title="{{ form.$pageLang.ApplicantInfo }}"></fm-Group-Head>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--失效区域-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.FailureZone"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur06.failureZone"
                           dataitem="PurchaseRelated>RFA>RFAArea"
                           display-member="text"
                           value-member="id"
                           required
                           state="{{form.$pageRight.StartNode}}"
                           field-name="{{form.$pageLang.FailureZone}}"
                           fm-placeholder="{{form.$pageLang.DropDownSelection}}"
                           callback-func="form.SetComplaintNumRequired(selectItem)"></fm-select>

            </div>
            <!--书面投诉编号-->
            <span class="col-xs-2 control-label required" ng-show="form.pur06.isNeedRequied=='2'" ng-bind="form.$pageLang.ComplaintNumber"></span>
            <div class="col-xs-4" ng-show="form.pur06.isNeedRequied=='2'">
                <fm-text fm-model="form.pur06.writtenComplaintNum"
                         fm-required="form.pur06.isNeedRequied=='2'"
                         state="{{form.$pageRight.StartNode}}"
                         field-name="{{form.$pageLang.ComplaintNumber}}"></fm-text>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--零件号-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.PartNo"></span>
            <div class="col-xs-4">
                <fm-data-select dataitem="PurchaseRelated>RFA>PartNumber"
                           required
                           field-name="{{form.$pageLang.PartNo}}"
                           fm-model="form.pur06.partNo"></fm-data-select>
            </div>
            <!--零件名称-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.PartName"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur06.partName"
                           dataitem="PurchaseRelated>RFA>RFAPart"
                           display-member="text"
                           value-member="id"
                           required
                           state="{{form.$pageRight.StartNode}}"
                           field-name="{{form.$pageLang.PartName}}"
                           fm-placeholder="{{form.$pageLang.DropDownSelection}}"></fm-select>

            </div>

        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--项目号-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.ProgramCode"></span>
            <div class="col-xs-4">
                <fm-data-select view="GetAllProjectNumbers"
                                display-member="text"
                                value-member="id"
                                required
                                field-name="{{form.$pageLang.ProgramCode}}"
                                fm-model="form.pur06.programCode"
                                callback-func="form.AllProjectNumbers(selectItem)"></fm-data-select>
            </div>
            <!--项目名称-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.ProgramName"></span>
            <div class="col-xs-4">
                <fm-text fm-model="form.pur06.programName"
                         required
                         readonly
                         field-name="{{form.$pageLang.ProgramName}}"></fm-text>
            </div>

        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--批号-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.LotNo"></span>
            <div class="col-xs-4">
                <fm-text fm-model="form.pur06.lotNo"
                         required
                         state="{{form.$pageRight.StartNode}}"
                         field-name="{{form.$pageLang.LotNo}}"></></fm-text>
            </div>
            <!--SQE/SPE-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Sqespe"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur06.sqeOrSpe"
                           view="GetSQEOrSpe"
                           required
                           state="{{form.$pageRight.StartNode}}"
                           field-name="{{form.$pageLang.Sqespe}}"
                           fm-placeholder="{{form.$pageLang.DropDownSelection}}"></fm-select>

            </div>

        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--零件送交数量-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Quantity"></span>
            <div class="col-xs-4">
                <fm-number fm-model="form.pur06.submitPartQuantity"
                           required
                           state="{{form.$pageRight.StartNode}}"
                           field-name="{{form.$pageLang.Quantity}}"></fm-number>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-xs-12">
        <table class="table table-bordered table-detail">
            <thead>
                <tr>
                    <th style="width:2%;text-align:center">
                        <input type="checkbox" class="uniform" ng-checked="form.pur06detAllChecked" ng-model="form.pur06detAllChecked"
                               ng-click="form.$checkAll(form.pur06detAllChecked, form.pur06det)" />
                    </th> <!--PartWorkNo-->
                    <th class="required" style="width:40%;text-align:center" ng-bind="form.$pageLang.Date">
                    </th> <!--YFVE 失效产品生产日期-->
                    <th class="required" style="width:40%;text-align:center" ng-bind="form.$pageLang.PartQuantity">
                    </th> <!--零件失效数量-->

                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in form.pur06det" ng-class="{ 'active': item.checked}" detail-name="{{form.$pageLang.Fare}}">
                    <td style="width:50px;text-align:center">
                        <input type="checkbox"
                               class="uniform"
                               ng-model="item.checked" ng-if="base.pageState==1 || (form.$pageRight.StartNode == 'normal' && base.pageState==2) " />
                    </td>
                    <td>
                        <fm-datetime fm-model="item.maunfacturingDate"
                                     date
                                     required
                                     state="{{form.$pageRight.StartNode}}"
                                     field-name="{{form.$pageLang.Date}}"></fm-datetime>
                    </td>
                    <td>
                        <fm-number ng-keyup="form.Calc(item)" fm-model="item.partQuantity"
                                   required
                                   state="{{form.$pageRight.StartNode}}"
                                   field-name="{{form.$pageLang.PartQuantity}}"></fm-number>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3" style="text-align:right">
                        <span class="col-xs-6"></span>
                        <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.TotalNumber"></span>
                        <div class="col-xs-4">
                            <fm-text fm-model="form.pur06.totalParts"
                                     required
                                     readonly
                                     state="{{form.$pageRight.StartNode}}"
                                     field-name="{{form.$pageLang.TotalNumber}}"></></fm-text>
                        </div>

                    </td>

                </tr>
                <tr>
                    <td style="text-align: right;" colspan="3">
                        <input ng-if="base.pageState==1 || (form.$pageRight.StartNode == 'normal' && base.pageState==2)" type="button" class="btn btn-sm btn-info" ng-click="form.add()" value="{{form.$pageLang.Add}}" />
                        <input ng-if="base.pageState==1 || (form.$pageRight.StartNode == 'normal' && base.pageState==2)" type="button" class="btn btn-sm btn-danger" ng-click="form.delete()" value="{{form.$pageLang.Delete}}" />
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>

<div class="form-group">

    <div class="form-group">

        <div class="col-xs-12">
            <!--失效描述-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.YeveFailureDescription"></span>
            <div class="col-xs-10">
                <fm-textarea fm-model="form.pur06.failureDescription"
                             required
                             state="{{form.$pageRight.StartNode}}"
                             field-name="{{form.$pageLang.YeveFailureDescription}}"
                             fm-placeholder="{{form.$pageLang.ManualInput}}"></fm-textarea>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--图1-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.imageComments1"></span>
            <div class="col-xs-10">
                <div ng-repeat="files in form.$attachments | filter:{linkId:1}">
                    <div ng-repeat="file in files.files">
                        <img  style="max-width:600px; max-height:300px; " src="/File/Download?fileId={{file.id}}" ng-if="file.extensionName == '.jpg' || file.extensionName == '.png'" />
                    </div>
                </div>
                <fm-attachment form-files="form.$attachments"
                               link-id="1"
                               task-id='base.taskId'
                               node-id="base.nodeId"
                               draft-id="base.draftId"
                               state="{{form.$pageRight.StartNode}}"
                               field-name="{{'UploadAttachment' |translate}}"
                               fm-model="form.$state.UploadAttachment"
                               button-name="{{form.$pageLang.UploadImg}}"></fm-attachment>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--图2-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.imageComments2"></span>
            <div class="col-xs-10">
                <div ng-repeat="files in form.$attachments | filter:{linkId:2}">
                    <div ng-repeat="file in files.files">
                        <img style="max-width:600px; max-height:300px; " src="/File/Download?fileId={{file.id}}" ng-if="file.extensionName == '.jpg' || file.extensionName == '.png'" />
                    </div>
                </div>
                <fm-attachment form-files="form.$attachments"
                               link-id="2"
                               task-id='base.taskId'
                               node-id="base.nodeId"
                               draft-id="base.draftId"
                               state="{{form.$pageRight.StartNode}}"
                               field-name="{{'UploadAttachment' |translate}}"
                               fm-model="form.$state.UploadAttachment"
                               button-name="{{form.$pageLang.UploadImg}}"></fm-attachment>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--图3-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.imageComments3"></span>
            <div class="col-xs-10">
                <div ng-repeat="files in form.$attachments | filter:{linkId:3}">
                    <div ng-repeat="file in files.files">
                        <img style="max-width:600px; max-height:300px; " src="/File/Download?fileId={{file.id}}" ng-if="file.extensionName == '.jpg' || file.extensionName == '.png'" />
                    </div>
                </div>
                <fm-attachment form-files="form.$attachments"
                               link-id="3"
                               task-id='base.taskId'
                               node-id="base.nodeId"
                               draft-id="base.draftId"
                               state="{{form.$pageRight.StartNode}}"
                               field-name="{{'UploadAttachment' |translate}}"
                               fm-model="form.$state.UploadAttachment"
                               button-name="{{ form.$pageLang.UploadImg}}"></fm-attachment>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--分析过程及结论-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.YeveAnalysisProcess"></span>
            <div class="col-xs-10">
                <fm-textarea fm-model="form.pur06.analysisProcess"
                             fm-placeholder="{{form.$pageLang.ManualInput}}"></fm-textarea>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--备注-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.Comment"></span>
            <div class="col-xs-10">
                <fm-textarea fm-model="form.pur06.comment"
                             fm-placeholder="{{form.$pageLang.ManualInput}}"></fm-textarea>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group" style="color: #0070C0; text-align:center;">
        <!--以上信息由Me填写-->
        <span class="col-xs-12 control-label">以上信息由Me填写</span>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--供应商代码-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.SupplierCode"></span>
            <div class="col-xs-4">
                <fm-data-select view="GetAllSupplierInfo"
                                fm-model="form.pur06.supplierCode"
                                display-member="id"
                                required
                                field-name="{{form.$pageLang.SupplierCode}}"
                                callback-func="form.chooseSupplierCode(selectItem)"
                                fm-disabled="base.pageState==1 && (form.$nodeCode!='ND02'&&form.$nodeCode!='ND03'&&form.$nodeCode!='ND04')"
                                fm-normal="base.pageState==2 && (form.$nodeCode=='ND02'||form.$nodeCode=='ND03'||form.$nodeCode=='ND04')"></fm-data-select>
            </div>
            <!--供应商-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Supplier"></span>
            <div class="col-xs-4">
                <fm-text readonly fm-model="form.pur06.supplier"></fm-text>
            </div>

        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--物料种类-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Commodity"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur06.commodity"
                           dataitem="PurchaseRelated>RFA>RFAPart"
                           required
                           field-name="{{form.$pageLang.Commodity}}"
                           fm-placeholder="{{form.$pageLang.DropDownSelection}}"
                           fm-disabled="base.pageState==1 && (form.$nodeCode!='ND02'&&form.$nodeCode!='ND03'&&form.$nodeCode!='ND04')"
                           fm-normal="base.pageState==2 && (form.$nodeCode=='ND02'||form.$nodeCode=='ND03'||form.$nodeCode=='ND04')"></fm-select>

            </div>
            <!--Waybill No-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.WaybillNo"></span>
            <div class="col-xs-4">
                <fm-text fm-model="form.pur06.waybillNo"
                         required
                         field-name="{{form.$pageLang.WaybillNo}}"
                         state="{{form.$pageRight.StartNode}}"
                         fm-disabled="base.pageState==1 && (form.$nodeCode!='ND02'&&form.$nodeCode!='ND03'&&form.$nodeCode!='ND04')"
                         fm-normal="base.pageState==2 && (form.$nodeCode=='ND02'||form.$nodeCode=='ND03'||form.$nodeCode=='ND04')"></fm-text>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--详细描述-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.Description"></span>
            <div class="col-xs-10">
                <fm-textarea fm-model="form.pur06.description"
                             fm-disabled="base.pageState==1 && (form.$nodeCode!='ND02'&&form.$nodeCode!='ND03'&&form.$nodeCode!='ND04')"
                             fm-normal="base.pageState==2 && (form.$nodeCode=='ND02'||form.$nodeCode=='ND03'||form.$nodeCode=='ND04')"></fm-textarea>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--备注-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.Comment"></span>
            <div class="col-xs-10">
                <fm-textarea fm-model="form.pur06.commentDesc"
                             fm-disabled="base.pageState==1 && (form.$nodeCode!='ND02'&&form.$nodeCode!='ND03'&&form.$nodeCode!='ND04')"
                             fm-normal="base.pageState==2 && (form.$nodeCode=='ND02'||form.$nodeCode=='ND03'||form.$nodeCode=='ND04')"></fm-textarea>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--供应商临时措施-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.ContainmentAction"></span>
            <div class="col-xs-10">
                <fm-textarea fm-model="form.pur06.supplierContainAction"
                             required
                             field-name="{{form.$pageLang.ContainmentAction}}"
                             fm-disabled="base.pageState==1 && (form.$nodeCode!='ND02'&&form.$nodeCode!='ND03'&&form.$nodeCode!='ND04')"
                             fm-normal="base.pageState==2 && (form.$nodeCode=='ND02'||form.$nodeCode=='ND03'||form.$nodeCode=='ND04')"></fm-textarea>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--供应商原因分析-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.RootAnalysis"></span>
            <div class="col-xs-10">
                <fm-textarea fm-model="form.pur06.supplierRootAnalysis"
                             required
                             field-name="{{form.$pageLang.RootAnalysis}}"
                             fm-disabled="base.pageState==1 && (form.$nodeCode!='ND02'&&form.$nodeCode!='ND03'&&form.$nodeCode!='ND04')"
                             fm-normal="base.pageState==2 && (form.$nodeCode=='ND02'||form.$nodeCode=='ND03'||form.$nodeCode=='ND04')"></fm-textarea>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--供应商纠正及预防措施-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.PreventAction"></span>
            <div class="col-xs-10">
                <fm-textarea fm-model="form.pur06.correctivePreventAction"
                             required
                             field-name="{{form.$pageLang.PreventAction}}"
                             fm-disabled="base.pageState==1 && (form.$nodeCode!='ND02'&&form.$nodeCode!='ND03'&&form.$nodeCode!='ND04')"
                             fm-normal="base.pageState==2 && (form.$nodeCode=='ND02'||form.$nodeCode=='ND03'||form.$nodeCode=='ND04')"></fm-textarea>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--问题类型-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.IssueKind"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur06.issueKind"
                           dataitem="PurchaseRelated>RFA>IssueKindQuestionType"
                           display-member="text"
                           value-member="id"
                           required
                           field-name="{{form.$pageLang.IssueKind}}"
                           fm-placeholder="{{form.$pageLang.DropDownSelection}}"
                           fm-disabled="base.pageState==1 && (form.$nodeCode!='ND02'&&form.$nodeCode!='ND03'&&form.$nodeCode!='ND04')"
                           fm-normal="base.pageState==2 && (form.$nodeCode=='ND02'||form.$nodeCode=='ND03'||form.$nodeCode=='ND04')"></fm-select>

            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group" style="color: #0070C0; text-align:center;">
        <!--以上信息由SQE填写-->
        <span class="col-xs-12 control-label">以上信息由SQE填写</span>
    </div>
</div>
<!--附件-->
<fm-Group-Head class="print-hide" title="{{ 'Attachment' |translate}}"></fm-Group-Head>
<div class="print-hide row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--            <span class="col-xs-2 control-label required">附件</span>-->
            <div class="col-xs-4">
                <fm-attachment form-files="form.$attachments"
                               link-id="0"
                               task-id='base.taskId'
                               node-id="base.nodeId"
                               draft-id="base.draftId"
                               state="{{form.$pageRight.StartNode}}"
                               field-name="{{'UploadAttachment' |translate}}"
                               fm-model="form.$state.UploadAttachment"
                               fm-disabled="base.pageState==1 && (form.$nodeCode!='ND02'&&form.$nodeCode!='ND03'&&form.$nodeCode!='ND04')"
                               fm-normal="base.pageState==2 && (form.$nodeCode=='ND02'||form.$nodeCode=='ND03'||form.$nodeCode=='ND04')"
                               button-name="{{ 'UploadAttachment' |translate}}"></fm-attachment>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <!--尾页-->
        <span class="col-xs-12 control-label" style="color: #0070C0;">经过延锋伟世通汽车电子有限公司工程技术人员分析，确认贵公司的产品出现失效，本RFA表给为正式的质量投诉,贵公司有责任在收到可疑品后24小时内给出3D报告，5天内给出8D报告，如不能按时递交报告请说明原因及进一步分析计划。</span>
    </div>


</div>
