<!--对外信息发布系统-->
<fm-form-title sn-number="{{base.snNumber}}" apply-date="{{base.applyDate}}" sub-title='base.title' fm-model="base.areaCode"></fm-form-title>
<!--申请人信息-->
<fm-Group-Head class="print-hide" title="{{ base.$pageLang.ApplicantInfo }}"></fm-Group-Head>

<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人名字-->
            <span class="col-xs-2 control-label">{{ "ApplicantName" | translate }}</span>
            <div class="col-xs-4">
                <div class="input-group" style="width: 100%;">
                    <span class="form-label">{{base.applicant.userName}}</span>
                    <!--<span class="input-group-btn" ng-if="!taskid">
                        <button class="btn btn-default" type="button" ng-click="base.$selectApplicant()">{{ "Choose" | translate }}</button>
                    </span>-->
                </div>
            </div>
            <!--申请人员工号-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmployeeNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.employeeNumber}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <!--申请人部门线-->
        <div class="col-xs-12">
            <span class="col-xs-2 control-label">{{ "ApplicantDepartment" | translate }}</span>
            <div class="col-xs-10"><span class="form-label">{{base.applicant.departmentName}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人电话-->
            <span class="col-xs-2 control-label">{{ "ApplicantContactNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.contactNumber}}</span></div>
            <!--申请人邮箱-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmail" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.emailAddress}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人手机-->
            <span class="col-xs-2 control-label">{{ "ApplicantMobileNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.mobileNumber}}</span></div>
            <!--申请人直属领导-->
            <span class="col-xs-2 control-label">{{ "ApplicantDirectManager" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.directManagerName}}</span></div>
        </div>
    </div>
</div>
<!--信息申请-->
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请对象-->
            <span class="col-xs-2 control-label  required" ng-bind="form.$pageLang.ExternalApplicant"></span>
            <div class="col-xs-4">
                <fm-select dataitem="Others>ExternalInformation>ExternalApplicant"
                           fm-code="form.$state.externalApplicantCode"
                           field-name="{{form.$pageLang.ExternalApplicant}}"
                           fm-model="form.otr03.externalApplicant"  
                           required></fm-select>
            </div>
            <!--其他说明-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.ExternalApplicantOthers" ng-class="{'required':(form.$state.externalApplicantCode || '').split(',').indexOf('4')>=0}"></span>
            <div class="col-xs-4">
                <fm-text fm-model="form.otr03.externalApplicantOthers"  
                         field-name="{{form.$pageLang.ExternalApplicantOthers}}"
                         fm-required =" (form.$state.externalApplicantCode || '').split(',').indexOf('4') >= 0"                     
                         ></fm-text>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请资料包含-->
            <span class="col-xs-2 control-label  required" ng-bind="form.$pageLang.MaterialContent"></span>
            <div class="col-xs-10">    
                <fm-checklist dataitem="Others>ExternalInformation>InformationType"
                              field-name="{{form.$pageLang.MaterialContent}}"
                              fm-code="form.$state.materialContentCode"
                              fm-model="form.otr03.materialContent"
                              required></fm-checklist>

            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--其他说明-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.MaterialContentOthers" ng-class="{'required':(form.$state.materialContentCode || '').split(',').indexOf('9')>=0}"></span>
            <div class="col-xs-10">
                <fm-text fm-model="form.otr03.materialContentOthers"  
                         field-name="{{form.$pageLang.MaterialContentOthers}}" 
                         fm-required =" (form.$state.materialContentCode || '').split(',').indexOf('9') >= 0"
                         ></fm-text>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请资料用途-->
            <span class="col-xs-2 control-label  required" ng-bind="form.$pageLang.MaterialUse"></span>
            <div class="col-xs-10">
                <fm-checklist dataitem="Others>ExternalInformation>InformationUsing"
                              field-name="{{form.$pageLang.MaterialUse}}"
                               fm-code="form.$state.materialUseCode"
                              fm-model="form.otr03.materialUse"
                              required></fm-checklist>
            </div>
            <!--其他说明-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.UseMaterialOthers" ng-class="{'required':(form.$state.materialUseCode || '').split(',').indexOf('3')>=0}"></span>
            <div class="col-xs-10">
                <fm-text fm-model="form.otr03.useMaterialOthers"  
                          field-name="{{form.$pageLang.UseMaterialOthers}}"
                         fm-required =" (form.$state.materialUseCode || '').split(',').indexOf('3') >= 0"
                         ></fm-text>
            </div>
        </div>
    </div>
</div>
<fm-Group-Head title="{{form.$pageLang.ApplicationMatters}}"></fm-Group-Head>
<!--申请事项简述  -->
<div class="row">
    <div class="form-group">
        <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.ApplicationMatters"></span>
        <div class="col-xs-10">
                <fm-textarea fm-model="form.otr03.applicationMatters"   
                             field-name="{{form.$pageLang.ApplicationMatters}}"     
                             fm-placeholder="{{form.$pageLang.App}}"                 
                             required></fm-textarea>
           </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--涉及职能部门-->
            <div ng-if="base.areaCode=='YFVIC'">
                <span class="col-xs-2 control-label" ng-bind="form.$pageLang.RelatedDepartments"></span>
                <div class="col-xs-4">
                    <fm-checklist dataitem="Others>ExternalInformation>RelatedDepartments"
                                  field-name="{{form.$pageLang.MaterialUse}}"
                                  value-member='value'
                                  fm-model="form.otr03.relatedDepartments"
                                  ></fm-checklist>
                    <span class="col-xs-2 control-label" ng-bind="form.$pageLang.OtherDept"></span>
                    <div class="col-xs-10">
                        <fm-data-select ismulti
                                        field-name="{{form.$pageLang.OtherDept}}"
                                        state="{{form.$pageRight.StartNode}}"
                                        group fm-model="form.otr03.otherDept"
                                        btntext="搜索"
                                        >
                        </fm-data-select>
                        <!--filter="{id:'DEPT0002V633'}"-->
                        <!--filter="{area:'YFVIC'}"-->
                </div>
                    </div>
                </div>
            </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--是否EC审批-->
            <span class="col-xs-2 control-label  required" ng-bind="form.$pageLang.IsEcNeedApprove"></span>
            <div class="col-xs-4">
                <fm-select  fm-model="form.otr03.isEcNeedApprove"
                           dataitem="Common>YesOrNo"   
                           required
                            fm-disabled="form.$pageRight.nD05!='normal'"
                         fm-normal="form.$pageRight.nD05=='normal'"                       
                            state="{{form.$pageRight.StartNode}}"                    
                           field-name="{{form.$pageLang.IsEcNeedApprove}}"                 
                          ></fm-select>
            </div>
        </div>
    </div>
</div>
<!--附件-->
<fm-Group-Head class="print-hide" title="{{ 'Attachment' |translate}}"></fm-Group-Head>
<div class="print-hide row">
    <div class="form-group">
        <div class="col-xs-12">
            <span class="col-xs-2 control-label required">附件</span>
            <div class="col-xs-4">
                <fm-attachment form-files="form.$attachments"
                               link-id="0"
                              required
                               task-id='base.taskId'
                               node-id="base.nodeId"
                               draft-id="base.draftId"
                               state="{{form.$pageRight.StartNode}}"
                               field-name="{{'UploadAttachment' |translate}}"
                               fm-model="form.$state.UploadAttachment"
                               button-name="{{ 'UploadAttachment' |translate}}"></fm-attachment>
                <!--<fm-attachment class="print-hide" form-files="form.$attachments"
                               state="{{form.$pageRight.StartNode}}"
                               link-id="1"
                               task-id='base.taskId'
                               node-id="base.nodeId"
                               draft-id="base.draftId"
                               button-name="{{ 'UploadAttachment' |translate}}"></fm-attachment>-->
            </div>
        </div>
    </div>
</div>