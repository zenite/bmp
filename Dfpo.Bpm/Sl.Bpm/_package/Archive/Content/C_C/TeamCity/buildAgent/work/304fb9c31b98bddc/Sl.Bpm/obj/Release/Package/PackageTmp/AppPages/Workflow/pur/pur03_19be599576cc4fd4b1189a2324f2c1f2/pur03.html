<!--非首选供应商申请批准-->
<fm-form-title sn-number="{{base.snNumber}}" apply-date="{{base.applyDate}}" sub-title='base.title'   fm-model="base.areaCode"></fm-form-title>
<fm-Group-Head title="{{ form.$pageLang.SupplierInformation }}"></fm-Group-Head>
<div class="row" ng-if="base.initiator.areaCode==='YFVIC'">
    <div class="form-group">
        <div class="col-xs-12">
            <!--是否子公司项目-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.SubsidiaryCompany"></span>
            <div class="col-xs-4">

                <fm-select fm-model="form.pur03.isSubsidiary"
                           dataitem="Common>YesOrNo"
                           required
                           callback-func="form.isSubsidiary(selectItem)"
                           field-name="{{form.$pageLang.SubsidiaryCompany}}"
                           fm-placeholder="{{form.$pageLang.DropDownSelection}}"></fm-select>
     
            </div>
               <span class="col-xs-2 control-label required" ng-if="form.pur03.isSubsidiary==='D17A7445-9082-4A80-80E4-F47B4D19049E'" >所属单位</span>
            <div class="col-xs-4" ng-if="form.pur03.isSubsidiary==='D17A7445-9082-4A80-80E4-F47B4D19049E'">
                <fm-select fm-model="form.pur03.theCompany"
                    dataitem="PurchaseRelated>NonPreferredSourcing>Company"
                    required
                    field-name="{{form.$pageLang.Organization}}"
                    fm-placeholder="{{form.$pageLang.Organization}}"></fm-select>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--供应商代码-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.IncumbentCode"></span>

            <div class="col-xs-4" id="pur03">
                 <fm-datatext-select
                         fm-model="form.pur03.supplierCode"
                         fm-text-model="form.pur03.supplierCodeText"
                         view="GetAllSupplierByCodeAndName"
                         state="{{form.$pageRight.StartNode}}"
                         field-name="{{form.$pageLang.IncumbentCode}}"
                          placeholder="可以手输"
                         callback-func="form.chooseSupplier(selectItem)"></fm-datatext-select>
            <!--    <fm-data-select view="GetAllSupplierInfo"
                                required
                                fm-model="form.pur01.supplierName"
                                callback-func="form.chooseSupplierCode(selectItem)"
                                field-name="{{form.$pageLang.SupplierName}}"
                                fm-placeholder="base.$pageLang.PleaseSelect"></fm-data-select>-->
            </div>
            <!--供应商名称-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.IncumbentName"></span>
            <div class="col-xs-4">
                <fm-text fm-model="form.pur03.supplierName"
                      field-name="{{form.$pageLang.IncumbentName}}"
                         ></fm-text>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--供应商生产地名称-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.LocationName"></span>
            <div class="col-xs-4">
                <fm-text fm-model="form.pur03.supplierMLN"
                         required
                        state="{{form.$pageRight.StartNode}}"
                         field-name="{{form.$pageLang.LocationName}}"
                         ></fm-text>
            </div>
            <!--地址-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Address"></span>
            <div class="col-xs-4">
                <fm-text fm-model="form.pur03.address"
                         state="{{form.$pageRight.StartNode}}"
                         field-name="{{form.$pageLang.Address}}"
                         required
                         ></fm-text>
            </div>
        </div>
    </div>
</div>
<fm-Group-Head title="{{ form.$pageLang.Range }}"></fm-Group-Head>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--质量等级-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.QualityLevel"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur03.qualityLevel"
                             state="{{form.$pageRight.StartNode}}"
                           dataitem="PurchaseRelated>NonPreferredSourcing>NonPreferredColorLevel"
                           ></fm-select>

            </div>
            <!--供货等级-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.DeliveryLevel"></span>
            <div class="col-xs-4">
                <fm-select 
                            integer
                             state="{{form.$pageRight.StartNode}}"
                            fm-model="form.pur03.deliveryLevel"
                           dataitem="PurchaseRelated>NonPreferredSourcing>NonPreferredColorLevel"
                           ></fm-select>

            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--新供应商评审等级-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.AssessmentLevel"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur03.newSupplierAssessmentLevel"
                              state="{{form.$pageRight.StartNode}}"
                           dataitem="PurchaseRelated>NonPreferredSourcing>NonPreferredColorLevel"
                           ></fm-select>

            </div>
            <!--商务等级-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.CommLevel"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur03.commLevel"
                             state="{{form.$pageRight.StartNode}}"
                           dataitem="PurchaseRelated>NonPreferredSourcing>NonPreferredColorLevel"
                           ></fm-select>

            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--财务等级<=C-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.FinancialHealthRating"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur03.financialHealthRatingC"
                             state="{{form.$pageRight.StartNode}}"
                           dataitem="PurchaseRelated>NonPreferredSourcing>YesOrNo"
                           ></fm-select>

            </div>
            <!--总销售额超过YFVIC的30%-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.TotalSupplierSales"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur03.totoal"
                           dataitem="PurchaseRelated>NonPreferredSourcing>YesOrNo"
                            state="{{form.$pageRight.StartNode}}"
                           fm-placeholder="{{form.$pageLang.DropDownSelection}}"></fm-select>

            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--供应商是否是客户指定-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.customerdirected"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur03.isSupplierCustomerDirected"
                            dataitem="PurchaseRelated>NonPreferredSourcing>YesOrNo"
                             state="{{form.$pageRight.StartNode}}"
                           ></fm-select>

            </div>
        </div>
    </div>
</div>

<fm-Group-Head title="{{ form.$pageLang.ProjectInfo }}"></fm-Group-Head>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请类型-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Type"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur03.requestType"
                           dataitem="PurchaseRelated>NonPreferredSourcing>NonPreferredRequestPeriod"
                           required
                           state="{{form.$pageRight.StartNode}}"
                           fm-code="form.$state.expenseRequestType"
                           field-name="{{form.$pageLang.Type}}"
                           fm-placeholder="{{form.$pageLang.DropDownSelection}}"></fm-select>

            </div>
            <!--申请日期-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.RequestDate" ng-if="form.pur03.requestType==='628D75EB-B10D-47D8-B0DB-0007564E2ACB'"></span>
            <div class="col-xs-4" ng-if="form.pur03.requestType==='628D75EB-B10D-47D8-B0DB-0007564E2ACB'">
                <fm-datetime
                    fm-model="form.pur03.requestDate"
                    fm-required="form.pur03.requestType=='628D75EB-B10D-47D8-B0DB-0007564E2ACB'"
                    date
                    state="{{form.$pageRight.StartNode}}"
                    field-name="{{form.$pageLang.RequestDate}}"></fm-datetime>
            </div>
        </div>
    </div>
</div>
<div class="row" ng-if="form.pur03.requestType==='797C65BC-495A-4239-BEFC-7AC49740DCB5'">
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请开始时间-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.StartDate"></span>
            <div class="col-xs-4">
                <fm-datetime 
                             fm-required="form.pur03.requestType=='797C65BC-495A-4239-BEFC-7AC49740DCB5'"
                             date
                            state="{{form.$pageRight.StartNode}}"
                             field-name="{{form.$pageLang.StartDate}}"
                             fm-model="form.pur03.requestStartDate"></fm-datetime>
            </div>
            <!--申请结束时间-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.EndDate"></span>
            <div class="col-xs-4">
                <fm-datetime 
                            fm-required="form.pur03.requestType=='797C65BC-495A-4239-BEFC-7AC49740DCB5'"
                            field-name="{{form.$pageLang.EndDate}}"
                            state="{{form.$pageRight.StartNode}}"
                             date
                             fm-model="form.pur03.requestEndDate"></fm-datetime>

            </div>
        </div>
    </div>
</div>
<div class="row" ng-if="form.pur03.requestType==='628D75EB-B10D-47D8-B0DB-0007564E2ACB'">
    <div class="form-group">
        <div class="col-xs-12">
            <!--项目编号-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.Projectcode"></span>
            <div class="col-xs-4">

                 <fm-datatext-select
                          fm-model="form.pur03.projectCode"
                          fm-text-model="form.pur03.projectCodeText"
                            fm-required="form.pur03.requestType=='628D75EB-B10D-47D8-B0DB-0007564E2ACB'"
                    callback-func="form.getProjectName(selectItem)"
                    state="{{form.$pageRight.StartNode}}"
                    view="GetAllProjectName"
                     field-name="{{form.$pageLang.Projectcode}}"
                     placeholder="可以手输"
                   ></fm-datatext-select>
            </div>
            <!--项目名称-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.ProjectName"></span>
            <div class="col-xs-4">
                <fm-text fm-model="form.pur03.projectName"
                        
                         fm-required="form.pur03.requestType=='628D75EB-B10D-47D8-B0DB-0007564E2ACB'"
                         field-name="{{form.$pageLang.ProjectName}}"
                         ></fm-text>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--项目经理-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.ProjectManager" ng-if="form.pur03.requestType==='628D75EB-B10D-47D8-B0DB-0007564E2ACB'"></span>
            <div class="col-xs-4" ng-if="form.pur03.requestType==='628D75EB-B10D-47D8-B0DB-0007564E2ACB'">
                <fm-text fm-model="form.pur03.projectManager"
                         fm-required="form.pur03.requestType=='628D75EB-B10D-47D8-B0DB-0007564E2ACB'"
                        state="{{form.$pageRight.StartNode}}"
                        field-name="{{form.$pageLang.ProjectManager}}"
                         ></fm-text>
            </div>
            <!--供应商质量工程师-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.SupplierEngineer"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.pur03.supplierEngineer"
                           view="GetEmployeeNumber"
                            state="{{form.$pageRight.StartNode}}"
                           required
                           field-name="{{form.$pageLang.SupplierEngineer}}"></fm-select>
 
            </div>
        </div>
    </div>
</div>

<!--是否需要副总审批-->
<div class="row" ng-if="form.$pageRight.PurManager=='normal'||form.$pageRight.TcManager=='normal'||form.$pageRight.FManager=='normal'">
    <div class="form-group">
        <div class="col-xs-12">
          
                <div class="col-xs-12" style="text-align: left;padding-left:80px;"  class=" control-label " >
                    <fm-checklist items="[{id:'1',text:'是否需要副总经理审批'}]"
                        state="{{form.$pageRight.PurManager=='normal'||form.$pageRight.TcManager=='normal'||form.$pageRight.FManager=='normal'}}"
                                  fm-model="form.pur03.isAudit"></fm-checklist>
                </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <span style="text-align: left;padding-left:80px;" class=" control-label " ng-bind="form.$pageLang.ThesignatureofDG"></span>
        </div>
    </div>
</div>
<fm-Group-Head title="{{ form.$pageLang.Schedule }}"></fm-Group-Head>

<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
             <small  style="text-align: left;" class="control-label " ng-bind="form.$pageLang.ActionPlan"></small>
            <span style="text-align: left;" class="control-label " ng-bind="form.$pageLang.ActionPlan"></span>
        </div>
    </div>
</div>
<!--附件-->
<fm-Group-Head class="print-hide required" title="{{ 'Attachment' |translate}}"  ></fm-Group-Head>
<div class="print-hide row">
    <div class="form-group">
        <div class="col-xs-12">
                <fm-attachment form-files="form.$attachments"
                               link-id="0"
                               task-id='base.taskId'
                               node-id="base.nodeId"
                               draft-id="base.draftId"
                               required
                               state="{{form.$pageRight.StartNode}}"
                               field-name="{{'UploadAttachment' |translate}}"
                               fm-model="form.$state.UploadAttachment"
                               button-name="{{ 'UploadAttachment' |translate}}"></fm-attachment>
        </div>
    </div>
</div>

