<!--框架协议更新流程-->
<fm-form-title sn-number="{{base.snNumber}}" apply-date="{{base.applyDate}}" sub-title='base.title' fm-model="base.areaCode"></fm-form-title>
<!--<fm-Group-Head class="print-hide" title="{{ base.$pageLang.PostByInfo }}"></fm-Group-Head>
<fm-initiator class="print-hide" jobid='base.jobId' userinfo='base.initiator' taskid='base.taskId'></fm-initiator>-->
<!--申请人信息-->
<fm-Group-Head class="print-hide" title="{{ base.$pageLang.ApplicantInfo }}"></fm-Group-Head>

<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人名字-->
            <span class="col-xs-2 control-label">{{ "ApplicantName" | translate }}</span>
            <div class="col-xs-4">
                <div class="input-group" style="width: 100%;">
                    <span class="form-label">{{base.applicant.userName}}</span>
                    <!--       <span class="input-group-btn" ng-if="!taskid">
                               <button class="btn btn-default" type="button" ng-click="base.$selectApplicant()">{{ "Choose" | translate }}</button>
                           </span>-->
                </div>
            </div>
            <!--申请人员工号-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmployeeNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.employeeNumber}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <!--申请人部门线-->
        <div class="col-xs-12">
            <span class="col-xs-2 control-label">{{ "ApplicantDepartment" | translate }}</span>
            <div class="col-xs-10"><span class="form-label">{{base.applicant.departmentName}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人电话-->
            <span class="col-xs-2 control-label">{{ "ApplicantContactNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.contactNumber}}</span></div>
            <!--申请人邮箱-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmail" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.emailAddress}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人手机-->
            <span class="col-xs-2 control-label">{{ "ApplicantMobileNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.mobileNumber}}</span></div>
            <!--申请人直属领导-->
            <span class="col-xs-2 control-label">{{ "ApplicantDirectManager" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.directManagerName}}</span></div>
        </div>
    </div>
</div>

<fm-Group-Head title="{{ form.$pageLang.FormInformation}}"></fm-Group-Head>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--请选择要更改的框架协议-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.SelectFrameworkAgree"></span>
            <div class="col-xs-4">
                <div class="col-xs-10">
                    <fm-data-select view="GetFrameworkAgreement"
                                    field-name="{{form.$pageLang.SelectFrameworkAgree}}"
                                    required filter="{Company:form.pur19.selectCompany}"
                                    state="{{form.$pageRight.StartNode}}"
                                    callback-func="form.chooseSelectFrameworkAgree(selectItem)"
                                    fm-model="form.pur19.selectFrameworkAgree"></fm-data-select>
                </div>
                <div class="col-xs-2">
                    <!--查看-->
                    <a class="control-label" ng-click="form.open()">查看</a>
                </div>
            </div>
            <div class="col-xs-2">
            </div>
            <div class="col-xs-2">
                <fm-text readonly style="background-color:#DCE6F1" fm-model="form.pur19.points"></fm-text>
            </div>
            <div class="col-xs-2">
                <fm-text readonly style="background-color:lightpink" fm-model="form.pur19.pointsAfter"></fm-text>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--供应商代码-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.SupplierCode"></span>
            <div class="col-xs-4">
                <fm-text readonly fm-model="form.pur19.supplierCode"></fm-text>
            </div>
            <!--供应商名称-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.SupplierName"></span>
            <div class="col-xs-4">
                <fm-text readonly fm-model="form.pur19.supplierName"></fm-text>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--采购-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Buyer"></span>
            <div class="col-xs-2">
                <fm-text style="background-color:#DCE6F1" readonly fm-model="form.pur19.buyerName"></fm-text>
            </div>
            <div class="col-xs-2">
                <fm-select state="{{form.$pageRight.StartNode}}"
                           view="GetBuyer" ng-if="base.pageState==1||(base.pageState==2&&form.$pageRight.StartNode=='normal')"
                           fm-required="form.pur19.buyerAfter!=''&&form.pur19.buyerAfter!=null" change
                           fm-model="form.pur19.buyerAfter"></fm-select>

                <fm-select ng-if="(base.pageState==3||form.$pageRight.StartNode!='normal')&&form.pur19.buyerAfter!=null&&form.pur19.buyerAfter!=''"
                           field-name="{{form.$pageLang.Buyer}}"
                           state="{{'readonly'}}"
                           view="GetBuyer"
                           style="background-color:lightpink;"
                           fm-model="form.pur19.buyerAfter"></fm-select>
                <fm-select state="{{form.$pageRight.StartNode}}"
                           ng-if="(base.pageState==3||form.$pageRight.StartNode!='normal')&&(form.pur19.buyerAfter==null||form.pur19.buyerAfter=='')"
                           view="GetBuyer"
                           fm-change="form.pur19.buyerAfter!=null&&form.pur19.buyerAfter!=''"
                           fm-model="form.pur19.buyerAfter"></fm-select>
            </div>
            <!--协议类型-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Type"></span>
            <div class="col-xs-4">
                <fm-text readonly fm-model="form.pur19.typeName"></fm-text>
            </div>
        </div>
    </div>
</div>
<style>
    .white {
        background-color: white;
    }

    .lightpink {
        background-color: lightpink;
    }
</style>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--协议生效日期-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.StartEffective"></span>
            <div class="col-xs-2">
                <fm-datetime date
                             readonly
                             style="background-color:#DCE6F1"
                             fm-model="form.pur19.startEffective"></fm-datetime>
            </div>
            <div class="col-xs-2">



                <fm-datetime field-name="{{form.$pageLang.StartEffective}}" ng-if="base.pageState==1||(base.pageState==2&&form.$pageRight.StartNode=='normal')"
                             date fm-required="form.pur19.startEffectiveAfter!=null&&form.pur19.startEffectiveAfter!=''" change
                             state="{{form.$pageRight.StartNode}}"
                             fm-model="form.pur19.startEffectiveAfter"
                             fm-placeholder="{{form.$pageLang.DropdownSelection}}"></fm-datetime>
                <fm-datetime ng-if="(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(form.pur19.startEffectiveAfter!=null&&form.pur19.startEffectiveAfter!='')"
                             field-name="{{form.$pageLang.StartEffective}}"
                             date
                             class="lightpink"
                             state="{{'readonly'}}"
                             fm-model="form.pur19.startEffectiveAfter"
                             fm-placeholder="{{form.$pageLang.DropdownSelection}}"></fm-datetime>
                <fm-datetime field-name="{{form.$pageLang.StartEffective}}"
                             ng-if="(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(form.pur19.startEffectiveAfter==null||form.pur19.startEffectiveAfter=='')"
                             date
                             state="{{form.$pageRight.StartNode}}"
                             fm-model="form.pur19.startEffectiveAfter"
                             fm-placeholder="{{form.$pageLang.DropdownSelection}}"></fm-datetime>

            </div>
            <!--协议结束日期-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.EndEffective"></span>
            <div class="col-xs-2">
                <fm-datetime date
                             readonly
                             style="background-color:#DCE6F1"
                             fm-model="form.pur19.endEffective"></fm-datetime>
            </div>
            <div class="col-xs-2">
                <fm-datetime field-name="{{form.$pageLang.EndEffective}}"
                             date ng-if="base.pageState==1||(base.pageState==2&&form.$pageRight.StartNode=='normal')"
                             fm-required="form.pur19.endEffectiveAfter!=null&&form.pur19.endEffectiveAfter!=''" change
                             state="{{form.$pageRight.StartNode}}"
                             fm-model="form.pur19.endEffectiveAfter"
                             fm-placeholder="{{form.$pageLang.DropdownSelection}}"></fm-datetime>

                <fm-datetime field-name="{{form.$pageLang.EndEffective}}"
                             ng-if="(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(form.pur19.endEffectiveAfter!=null&&form.pur19.endEffectiveAfter!='')"
                             date
                             class="lightpink"
                             state="{{'readonly'}}"
                             fm-model="form.pur19.endEffectiveAfter"
                             fm-placeholder="{{form.$pageLang.DropdownSelection}}"></fm-datetime>
                <fm-datetime field-name="{{form.$pageLang.EndEffective}}"
                             ng-if="(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(form.pur19.endEffectiveAfter==null||form.pur19.endEffectiveAfter=='')"
                             date
                             state="{{form.$pageRight.StartNode}}"
                             fm-model="form.pur19.endEffectiveAfter"
                             fm-placeholder="{{form.$pageLang.DropdownSelection}}"></fm-datetime>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!-- 使用部门-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.prDept"></span>
            <div class="col-xs-5">
                <fm-text readonly style="background-color:#DCE6F1" fm-model="form.pur19.prDept"></fm-text>
            </div>
            <div class="col-xs-5">

                <fm-data-select ismulti
                                ng-if="base.pageState==1||(base.pageState==2&&form.$pageRight.StartNode=='normal')"
                                field-name="{{form.$pageLang.prDept}}"
                                state="{{form.$pageRight.StartNode}}"
                                fm-required="form.pur19.prDeptAfter!=null&&form.pur19.prDeptAfter!=''" change
                                group
                                fm-model="form.pur19.prDeptAfter"></fm-data-select>
                <fm-data-select ismulti
                                ng-if="(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(form.pur19.prDeptAfter!=null&&form.pur19.prDeptAfter!='')"
                                field-name="{{form.$pageLang.prDept}}"
                                state="{{'readonly'}}"
                                group class="lightpink"
                                fm-model="form.pur19.prDeptAfter"></fm-data-select>
                <fm-data-select ismulti
                                ng-if="(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(form.pur19.prDeptAfter==null||form.pur19.prDeptAfter=='')"
                                field-name="{{form.$pageLang.prDept}}"
                                state="{{form.$pageRight.StartNode}}"
                                group
                                fm-model="form.pur19.prDeptAfter"></fm-data-select>

            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!-- 用途-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Description"></span>
            <div class="col-xs-5">
                <fm-textarea readonly style="background-color:#DCE6F1" fm-model="form.pur19.description"></fm-textarea>
            </div>
            <div class="col-xs-5">

                <fm-textarea items="[]"
                             ng-if="base.pageState==1||(base.pageState==2&&form.$pageRight.StartNode=='normal')"
                             state="{{form.$pageRight.StartNode}}"
                             field-name="{{form.$pageLang.Description}}"
                             fm-required="form.pur19.descriptionAfter!=null&&form.pur19.descriptionAfter!=''" change
                             fm-model="form.pur19.descriptionAfter"></fm-textarea>
                <fm-textarea items="[]"
                             ng-if="(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(form.pur19.descriptionAfter!=''&&form.pur19.descriptionAfter!=null)"
                             state="{{'readonly'}}"
                             class="lightpink"
                             field-name="{{form.$pageLang.Description}}"
                             fm-model="form.pur19.descriptionAfter"></fm-textarea>
                <fm-textarea items="[]"
                             ng-if="(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(form.pur19.descriptionAfter==''||form.pur19.descriptionAfter==null)"
                             state="{{form.$pageRight.StartNode}}"
                             field-name="{{form.$pageLang.Description}}"
                             fm-model="form.pur19.descriptionAfter"></fm-textarea>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-xs-12">
        <table class="table table-bordered table-detail">
            <thead>
                <tr>
                    <th rowspan="2" style="width:4%;text-align:center;" class="checktd">
                        <input type="checkbox" class="uniform"
                               ng-checked="form.pur19faudAllChecked"
                               ng-model="form.pur19faudAllChecked"
                               ng-click="form.$checkAll(form.pur19faudAllChecked, form.pur19faud)" />
                    </th> <!--标记-->
                    <th rowspan="2" style="width:5%;text-align:center;" ng-bind="form.$pageLang.No"></th> <!--序列-->
                    <th rowspan="2" style="width:19%;text-align:center;" ng-bind="form.$pageLang.Product"></th> <!--品名-->
                    <th rowspan="2" style="width:24%;text-align:center;" ng-bind="form.$pageLang.ProductionDescription"></th> <!--品名描述-->
                    <th colspan="3" style="width:8%;text-align:center;" ng-bind="form.$pageLang.UpdateBefore"></th> <!-（更新前）-->
                    <th colspan="3" style="width:8%;text-align:center;" ng-bind="form.$pageLang.UpdateAfter"></th> <!--（更新后）-->

                </tr>
                <tr>
                    <th style="width:8%;text-align:center;" ng-bind="form.$pageLang.Currency"></th> <!--币种（更新前）-->
                    <th style="width:8%;text-align:center;" ng-bind="form.$pageLang.Tax"></th> <!--是否含税(更新前)-->
                    <th style="width:8%;text-align:center;" ng-bind="form.$pageLang.Price"></th> <!--单价（更新前）-->
                    <th style="width:8%;text-align:center;" ng-bind="form.$pageLang.Currenc"></th> <!--币种（更新后）-->
                    <th style="width:8%;text-align:center;" ng-bind="form.$pageLang.Ta"></th> <!--是否含税（更新后）-->
                    <th style="width:8%;text-align:center;" ng-bind="form.$pageLang.Pric"></th> <!--单价（更新后）-->
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in form.pur19faud" ng-class="{ 'active': item.checked}" detail-name="{{form.$pageLang.Fare}}">
                    <td>
                        <input class="uniform"
                               ng-if="base.pageState==1 || (form.$pageRight.StartNode == 'normal' && base.pageState==2) "
                               type="checkbox" ng-model="item.checked" />
                    </td>
                    <td>
                        <fm-number ng-if="item.gridOrder!=null" class="input-sm"
                                   fm-model="item.gridOrder"></fm-number>
                        <span ng-if="item.gridOrder == null">{{$index + 1}}</span>
                    </td>
                    <td>
                        <fm-text ng-if="item.currencyCode!=''&&item.currencyCode!=null" field-name="{{form.$pageLang.Product}}"
                                 class="input-sm"
                                 readonly style="background-color:white !important;"
                                 fm-model="item.product"></fm-text>
                        <fm-text ng-if="item.currencyCode==''||item.currencyCode==null" field-name="{{form.$pageLang.Product}}"
                                 required class="input-sm" style="background-color:white;"
                                 state="{{form.$pageRight.StartNode}}"
                                 fm-model="item.product"></fm-text>

                    </td>
                    <td>
                        <fm-text ng-if="item.currencyCode!=''&&item.currencyCode!=null" field-name="{{form.$pageLang.ProductionDescription}}"
                                 class="input-sm"
                                 readonly 
                                 fm-model="item.productionDescription"></fm-text>
                        <fm-text ng-if="item.currencyCode==''||item.currencyCode==null" field-name="{{form.$pageLang.ProductionDescription}}"
                                 class="input-sm"
                                 state="{{form.$pageRight.StartNode}}"
                                 fm-model="item.productionDescription"></fm-text>
                    </td>
                    <td>
                        <fm-text ng-if="item.currencyCode!=''&&item.currencyCode!=null" field-name="{{form.$pageLang.Currency}}"
                                 class="input-sm"
                                 readonly style="background-color:#DCE6F1"
                                 fm-model="item.currencyCode"></fm-text>
                        <fm-text class="input-sm" ng-if="base.pageState!='3'"
                                 state="{{'hidden'}}" style="display:none"
                                 fm-model="item.currencyCode"></fm-text>

                    </td>
                    <td>
                        <fm-text ng-if="item.currencyCode!=''&&item.currencyCode!=null" field-name="{{form.$pageLang.Tax}}"
                                 class="input-sm"
                                 readonly style="background-color:#DCE6F1"
                                 fm-model="item.tax"></fm-text>
                        <fm-text class="input-sm" ng-if="base.pageState!='3'"
                                  style="display:none"  state="{{'hidden'}}"
                                 fm-model="item.taxCode"></fm-text>
                    </td>
                    <td>
                        <fm-number field-name="{{form.$pageLang.Price}}"
                                   ng-if="item.currencyCode!=''&&item.currencyCode!=null"
                                   class="input-sm" style="background-color:#DCE6F1"
                                   required
                                   cny
                                   readonly
                                   fm-model="item.price"></fm-number>
                        <fm-text class="input-sm"
                                 style="display:none" ng-if="base.pageState!='3'"
                                 fm-model="item.lastyearunitprice"></fm-text>

                    </td>
                    <td>
                        <fm-select field-name="{{form.$pageLang.Currenc}}"
                                   ng-if="(item.currencyCode!=''&&item.currencyCode!=null)&&(base.pageState==1||(base.pageState==2&&form.$pageRight.StartNode=='normal'))"
                                   view="GetCurrency" class="input-sm "
                                   fm-required="item.currencyAfter!=null&&item.currencyAfter!=''" change
                                   state="{{form.$pageRight.StartNode}}"
                                   fm-model="item.currencyAfter"></fm-select>

                        <fm-select view="GetCurrency" class="input-sm "
                                   ng-if="item.currencyCode!=''&&item.currencyCode!=null&&(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(item.currencyAfter==null||item.currencyAfter=='')"
                                   state="{{form.$pageRight.StartNode}}"
                                   fm-model="item.currencyAfter"></fm-select>
                        <fm-select view="GetCurrency" class="input-sm " style="background-color:lightpink !important;"
                                   ng-if="item.currencyCode!=''&&item.currencyCode!=null&&(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(item.currencyAfter!=null&&item.currencyAfter!='')"
                                   state="{{'readonly'}}"
                                   fm-model="item.currencyAfter"></fm-select>

                        <fm-select field-name="{{form.$pageLang.Currenc}}"
                                   ng-if="item.currencyCode==''||item.currencyCode==null"
                                   view="GetCurrency" class="input-sm"
                                   required style="background-color:white;"
                                   state="{{form.$pageRight.StartNode}}"
                                   fm-model="item.currency"></fm-select>
                    </td>
                    <td>
                        <fm-select dataitem="Common>YesOrNo" ng-if="(item.currencyCode!=''&&item.currencyCode!=null)&&(base.pageState==1||(base.pageState==2&&form.$pageRight.StartNode=='normal'))"
                                   fm-required="item.taxAfter!=null&&item.taxAfter!=''" change
                                   class="input-sm"
                                   state="{{form.$pageRight.StartNode}}"
                                   fm-model="item.taxAfter"></fm-select>
                        <fm-select class="input-sm" dataitem="Common>YesOrNo"
                                   ng-if="item.currencyCode!=''&&item.currencyCode!=null&&(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(item.taxAfter==null||item.taxAfter=='')"
                                   state="{{form.$pageRight.StartNode}}"
                                   fm-model="item.taxAfter"></fm-select>
                        <fm-select class="input-sm" dataitem="Common>YesOrNo" style="background-color:lightpink !important;"
                                   ng-if="item.currencyCode!=''&&item.currencyCode!=null&&(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(item.taxAfter!=null&&item.taxAfter!='')"
                                   state="{{'readonly'}}"
                                   fm-model="item.taxAfter"></fm-select>

                        <fm-select field-name="{{form.$pageLang.Ta}}"
                                   dataitem="Common>YesOrNo"
                                   ng-if="item.currencyCode==''||item.currencyCode==null"
                                   class="input-sm"
                                   required style="background-color:white;"
                                   state="{{form.$pageRight.StartNode}}"
                                   fm-model="item.tax"></fm-select>
                    </td>
                    <td>
                        <fm-number class="input-sm" ng-if="(item.currencyCode!=''&&item.currencyCode!=null)&&(base.pageState==1||(base.pageState==2&&form.$pageRight.StartNode=='normal'))"
                                   fm-required="item.priceAfter!=null&&item.priceAfter!=''" change
                                   state="{{form.$pageRight.StartNode}}"
                                   cny
                                   fm-model="item.priceAfter"></fm-number>
                        <fm-number class="input-sm"
                                   ng-if="item.currencyCode!=''&&item.currencyCode!=null&&(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(item.priceAfter==null||item.priceAfter=='')"
                                   cny
                                   state="{{form.$pageRight.StartNode}}"
                                   fm-model="item.priceAfter"></fm-number>
                        <fm-number class="input-sm" style="background-color:lightpink !important;"
                                   ng-if="item.currencyCode!=''&&item.currencyCode!=null&&(form.$pageRight.StartNode!='normal'||base.pageState==3)&&(item.priceAfter!=null&&item.priceAfter!='')"
                                   cny
                                   state="{{'readonly'}}"
                                   fm-model="item.priceAfter"></fm-number>
                        <fm-number field-name="{{form.$pageLang.Pric}}"
                                   ng-if="item.currencyCode==''||item.currencyCode==null"
                                   class="input-sm"
                                   required style="background-color:white !important;"
                                   cny
                                   state="{{form.$pageRight.StartNode}}"
                                   fm-model="item.price"></fm-number>
                    </td>
                </tr>

            </tbody>
            <tfoot>
                <tr>
                    <td colspan="99" style="text-align:left;">
                        <table style="width:100%;">
                            <tr>
                                <td style="text-align:right;border:0px;">
                                    <fm-import-advance config="form.import"
                                                       ng-if="form.$pageRight.StartNode == 'normal' &&base.pageState!=3 "
                                                       form-files="form.$attachments"
                                                       link-id="2"
                                                       task-id='base.taskId'
                                                       callback-func="form.importD(importData)"></fm-import-advance>
                                </td>

                                <td style="text-align:right;border:0px; width:10%">
                                    <!--<fm-import-xls ng-if="form.$pageRight.StartNode == 'normal' &&base.pageState!=3 "
                                                   template="/AppPages/Workflow/pur15_a12e07c76d2c412ea0a47a21746c26fc/Template.xls"
                                                   start-index="0"
                                                   columns="['product','productionDescription','currency','tax','price']"
                                                   callback-func="form.getlength(data)"></fm-import-xls>-->
                                    <input ng-if="form.$pageRight.StartNode == 'normal'  &&base.pageState!=3  " type="button" class="btn btn-sm btn-info" ng-click="form.pur19faud.push({})" value="{{ 'Add' |translate}}" />
                                    <input ng-if="form.$pageRight.StartNode == 'normal'  &&base.pageState!=3  " type="button" class="btn btn-sm btn-danger" ng-click="form.delete()" value="{{ 'Delete' |translate}}" />
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>
<fm-Group-Head title="{{ form.$pageLang.Authorized }}"></fm-Group-Head>
<!--Authorized Signature -->
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--使用部门经理-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.prdm"></span>
            <div class="col-xs-4">
                <fm-job-select required state="{{form.$pageRight.StartNode}}" field-name="{{form.$pageLang.prdm}}" ismulti fm-model="form.pur19.deptManager"></fm-job-select>
            </div>
            <!--子公司相关经理-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.prsm"></span>
            <div class="col-xs-4">
                <fm-job-select state="{{form.$pageRight.StartNode}}" ismulti fm-model="form.pur19.subManager"></fm-job-select>
            </div>
        </div>
    </div>
</div>
<!--附件-->
<fm-Group-Head class="print-hide" title="{{ 'Attachment' |translate}}"></fm-Group-Head>
<div class="print-hide row">
    <div class="form-group">
        <div class="col-xs-12">
            <fm-attachment form-files="form.$attachments"
                           link-id="0"
                           task-id='base.taskId'
                           node-id="base.nodeId"
                           draft-id="base.draftId"
                           state="{{form.$pageRight.StartNode}}"
                           field-name="{{'UploadAttachment' |translate}}"
                           fm-model="form.$state.UploadAttachment"
                           button-name="{{ 'UploadAttachment' |translate}}"></fm-attachment>

        </div>
    </div>
</div>

