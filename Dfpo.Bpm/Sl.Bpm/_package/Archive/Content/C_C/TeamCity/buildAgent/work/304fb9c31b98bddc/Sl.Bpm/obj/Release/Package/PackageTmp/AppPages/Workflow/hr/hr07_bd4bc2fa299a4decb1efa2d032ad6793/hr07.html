<!--组织调整及管理人员任免-->
<fm-form-title sn-number="{{base.snNumber}}" apply-date="{{base.applyDate}}" sub-title='base.title' fm-model="base.areaCode"></fm-form-title>
<fm-Group-Head class="print-hide" title="{{ base.$pageLang.ApplicantInfo }}"></fm-Group-Head>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人名字-->
            <span class="col-xs-2 control-label">{{ "ApplicantName" | translate }}</span>
            <div class="col-xs-4">
                <div class="input-group" style="width: 100%;">
                    <span class="form-label">{{base.applicant.userName}}</span>
                    <span class="input-group-btn" ng-if="!taskid">
                        <button class="btn btn-default" type="button" ng-click="base.$selectApplicant()">{{ "Choose" | translate }}></button>
                    </span>
                </div>
            </div>
            <!--申请人员工号-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmployeeNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.employeeNumber}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <!--申请人部门线-->
        <div class="col-xs-12">
            <span class="col-xs-2 control-label">{{ "ApplicantDepartment" | translate }}</span>
            <div class="col-xs-10"><span class="form-label">{{base.applicant.departmentName}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人电话-->
            <span class="col-xs-2 control-label">{{ "ApplicantContactNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.contactNumber}}</span></div>
            <!--申请人邮箱-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmail" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.emailAddress}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人手机-->
            <span class="col-xs-2 control-label">{{ "ApplicantMobileNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.mobileNumber}}</span></div>
            <!--申请人直属领导-->
            <span class="col-xs-2 control-label">{{ "ApplicantDirectManager" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.directManagerName}}</span></div>
        </div>
    </div>
</div>

<fm-Group-Head title="{{ form.$pageLang.ApplicantInfo }}"></fm-Group-Head>
<div class="row" ng-if="base.jobLeavel>100">
    <div class="form-group">
        <!--变更类型-->
        <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.ChangeType"></span>
        <div class="col-xs-4">
            <fm-checklist fm-model="form.hr07.changeType"
                          required
                          callback-func="form.clearData(selectItem, fmModel)"
                          field-name="{{form.$pageLang.ChangeType}}"
                          dataitem="HRRelated>OrganizationManagement>ChangeType">

            </fm-checklist>
        </div>
        <span class="col-xs-5 control-label " ng-bind="form.$pageLang.Notice" style="color:red"></span>
    </div>
      
</div>
<div class="row" ng-if="base.jobLeavel<100 || base.jobLeavel==0 ||  base.jobLeavel==100" >
    <div class="form-group">
        <!--变更类型-->
        <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.ChangeType"></span>
        <div class="col-xs-4">
            <fm-checklist fm-model="form.hr07.changeType"
                          required
                          field-name="{{form.$pageLang.ChangeType}}"
                          dataitem="HRRelated>OrganizationManagement>OrganizationAdjustment">

            </fm-checklist>
        </div>
    </div>

</div>
<div class="row">
    <div class="form-group">
        <!--公司-->
        <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Company"></span>
        <div class="col-xs-4">
            <fm-select fm-model="form.hr07.company"
                       view="GetAllCompany"
                       display-member="text"
                          field-name="{{form.$pageLang.Company}}"
                       value-member="id"
                       required></fm-select>

        </div>
        <div ng-if="form.hr07.changeType=='bffc7942-6abc-4bb6-9bc5-95e51f5c3648'">
            <!--岗位级别-->
            <span class="col-xs-2 control-label required " ng-bind="form.$pageLang.JobLevel"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.hr07.jobLevel"
                           required
                            field-name="{{form.$pageLang.JobLevel}}"
                           dataitem="HRRelated>OrganizationManagement>JobLevel"></fm-select>
            </div>
        </div>
       
    </div>
</div>
<div ng-if="form.hr07.changeType!='bffc7942-6abc-4bb6-9bc5-95e51f5c3648'">
    <div class="row">
        <div class="form-group">
            <!--建议部门-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.RecommendDept"></span>
            <div class="col-xs-4">
             
                <fm-data-select 
                                fm-blur="form.$save(item)"
                                i-clear
                                required  field-name="{{form.$pageLang.RecommendDept}}"
                                group fm-model="form.hr07.recommendDept"></fm-data-select>
            </div>
            <!--类型-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.OrgType"></span>
            <div class="col-xs-4">
                <fm-select fm-model="form.hr07.orgType"
                           required
                            field-name="{{form.$pageLang.OrgType}}"
                           dataitem="HRRelated>OrganizationManagement>OrgType"></fm-select>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <div ng-if="form.hr07.changeType=='bffc7942-6abc-4bb6-9bc5-95e51f5c3648'">
                <!--管理人员任免说明-->
                <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.ExecutiveDismiss"></span>
                <div class="col-xs-10">
                    <fm-textarea fm-model="form.hr07.executiveDismiss"
                                 max-lenth="2000"
                                 field-name="{{form.$pageLang.RecommendDept}}"
                                 required></fm-textarea>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row" ng-if="form.hr07.changeType=='bffc7942-6abc-4bb6-9bc5-95e51f5c3648'">
    <div class="col-xs-12">
        <div class="fm-detailinfo" ng-class="{'active':item.checked}" ng-repeat="item in form.hr07detail" detail-name="序号">
            <div class="row header">
                <div class="col-xs-12">
                    <input class="uniform"
                           ng-if="base.pageState==1 || form.$pageRight.StartNode == 'normal' "
                           type="checkbox" ng-model="item.checked" />
                    <strong class="input-sm">序号{{$index + 1}}</strong>
                </div>
            </div>
            <div class="content">
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--工号-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.HrNo"></span>
                        <div class="col-xs-8">
                            <fm-data-select view="GetEmployeeInfoByEmployId"
                                        required
                                        field-name="{{form.$pageLang.HrNo}}"
                                        callback-func="form.chooseSupplier(selectItem,item)"
                                        fm-model="item.hrNo"></fm-data-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--姓名-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.StaffName"></span>
                        <div class="col-xs-8">
                            <fm-text  readonly
                                 fm-model="item.staffName"></fm-text>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--性别-->
                        <span class="col-xs-4 control-label " ng-bind="form.$pageLang.Gender"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.gender"
                                       dataitem="HRRelated>EmployeePositionTransfer>Gender"></fm-select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--原区域-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.OriginalCompanyId"></span>
                        <div class="col-xs-8">
                            <fm-text  readonly
                                 fm-model="item.originalCompanyId"></fm-text>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--原部门-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.OriginalDepartmentId"></span>
                        <div class="col-xs-8">
                            <fm-select readonly
                                       view="GetGroupInfo"
                                       display-member="text"
                                       value-member="id"
                                       fm-model="item.originalDepartmentId"></fm-select>
                          
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--原科室-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.OriginalSectionId"></span>
                        <div class="col-xs-8">
                            <fm-select readonly
                                       view="GetGroupInfo"
                                       display-member="text"
                                       value-member="id"
                                       fm-model="item.originalSectionId"></fm-select>
                           
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--原岗位-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.OriginalPositionId"></span>
                        <div class="col-xs-8">
                            <fm-text  readonly
                                 fm-model="item.originalPositionId"></fm-text>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--原岗位是否有毒有害岗位-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.IsCurrentPositionPoison"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.isCurrentPositionPoison"
                                       dataitem="Common>YesOrNo"
                                       required
                                       field-name="{{form.$pageLang.IsCurrentPositionPoison}}"></fm-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--调入区域-->
                        <span class="col-xs-4 control-label " ng-bind="form.$pageLang.NewCompanyId"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.newCompanyId"
                                       view="GetAllCompany" display-member="text"
                                       readonly
                                       field-name="{{form.$pageLang.NewCompanyId}}"
                                       value-member="id"></fm-select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--调入部门-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.NewDeptId"></span>
                        <div class="col-xs-8">
                         
                            <fm-data-select 
                                            fm-blur="form.$save(item)"
                                            i-clear
                                            group fm-model="item.newDeptId"></fm-data-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--调入科室-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.NewSectionId"></span>
                        <div class="col-xs-8">
                         
                            <fm-data-select 
                                            fm-blur="form.$save(item)"
                                            i-clear
                                            group fm-model="item.newSectionId"></fm-data-select>

                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--调入岗位-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.NewPositionId"></span>
                        <div class="col-xs-8">
                            <fm-job-select fm-model="item.newPositionId" hideuser callback-func="form.selectjob(selectItem,item)" required field-name="{{form.$pageLang.NewPositionId}}"></fm-job-select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--调入岗位是否有毒有害岗位-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.IsNewPositionPoison"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.isNewPositionPoison"
                                       dataitem="Common>YesOrNo"
                                       required
                                       field-name="{{form.$pageLang.IsNewPositionPoison}}"></fm-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--直属经理-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.DirectManager"></span>
                        <div class="col-xs-8">
                            <fm-text readonly
                                     fm-model="item.directManager"></fm-text>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--员工属性-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.EmployeeProperty"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.employeeProperty"
                                       dataitem="HRRelated>EmployeePositionTransfer>EmployeeProperty"
                                       required
                                       field-name="{{form.$pageLang.EmployeeProperty}}"></fm-select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--生效日期-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.EffectiveDate"></span>
                        <div class="col-xs-8">
                             <fm-datetime fm-model="item.effectiveDate"
                                 date
                             required
                                  field-name="{{form.$pageLang.EffectiveDate}}"
                             ></fm-datetime>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--变更类别-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.ChangeTypes"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.changeType"
                                       dataitem="HRRelated>EmployeePositionTransfer>EmployeeTransferType"
                                       required
                                        field-name="{{form.$pageLang.ChangeTypes}}"
                                       ismulti
                                      ></fm-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--是否转移人头预算-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.IsHeadcountBudgetAdjustment"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.isHeadcountBudgetAdjustment"
                                       dataitem="Common>YesOrNo"
                                       required
                                       field-name="{{form.$pageLang.IsHeadcountBudgetAdjustment}}"></fm-select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-12">
                <div class="pull-right">
                    <input ng-if="base.pageState==1 || (form.$pageRight.StartNode == 'normal' && base.pageState==2) " type="button" class="btn btn-sm btn-info" ng-click="form.add()" value="{{ 'Add' |translate}}" />
                    <input ng-if="base.pageState==1 || (form.$pageRight.StartNode == 'normal' && base.pageState==2) " type="button" class="btn btn-sm btn-danger" ng-click="form.delete()" value="{{ 'Delete' |translate}}" />
                </div>
            </div>
        </div>
    </div>
</div>
<div ng-if="(form.hr07.changeType=='f794eaa9-8427-489f-8484-c41ab5499b0a,699ee1ce-eb64-4dc8-a00e-b9a3f814e7b6') || (form.hr07.changeType=='699ee1ce-eb64-4dc8-a00e-b9a3f814e7b6,f794eaa9-8427-489f-8484-c41ab5499b0a') || (form.hr07.changeType=='f794eaa9-8427-489f-8484-c41ab5499b0a') || (form.hr07.changeType=='75af0bab-a0a9-4b12-bc83-d4cdc6134760,4f42eec7-c511-4fd0-9e22-3dfda9e713e8' || form.hr07.changeType=='4f42eec7-c511-4fd0-9e22-3dfda9e713e8,75af0bab-a0a9-4b12-bc83-d4cdc6134760' || form.hr07.changeType=='4f42eec7-c511-4fd0-9e22-3dfda9e713e8' )">
    <div class="row">
        <div class="form-group">
            <div class="col-xs-12">
                <!--现有机构描述-->

                <div class="col-xs-6 required">
                    <fm-Group-Head title="{{ form.$pageLang.ExistOrgDescription }}"></fm-Group-Head>
                    <fm-textarea fm-model="form.hr07.existOrgDescription"
                                 required
                                 max-length="2000"
                                  field-name="{{form.$pageLang.ExistOrgDescription}}"
                                  ></fm-textarea>
                </div>

                <!--建议机构描述-->
                <div class="col-xs-6 required">
                    <fm-Group-Head title="{{ form.$pageLang.RecommendOrgDescription}}"></fm-Group-Head>
                    <fm-textarea fm-model="form.hr07.recommendOrgDescription"
                                 required
                                   max-length="2000"
                                  field-name="{{form.$pageLang.RecommendOrgDescription}}"
                                 ></fm-textarea>
                </div>
            </div>
        </div>
    </div>
</div>
<div ng-if="((form.hr07.changeType=='f794eaa9-8427-489f-8484-c41ab5499b0a,699ee1ce-eb64-4dc8-a00e-b9a3f814e7b6') || (form.hr07.changeType=='699ee1ce-eb64-4dc8-a00e-b9a3f814e7b6,f794eaa9-8427-489f-8484-c41ab5499b0a') || (form.hr07.changeType=='699ee1ce-eb64-4dc8-a00e-b9a3f814e7b6')) ||(form.hr07.changeType=='75af0bab-a0a9-4b12-bc83-d4cdc6134760,4f42eec7-c511-4fd0-9e22-3dfda9e713e8' || form.hr07.changeType=='4f42eec7-c511-4fd0-9e22-3dfda9e713e8,75af0bab-a0a9-4b12-bc83-d4cdc6134760' || form.hr07.changeType=='75af0bab-a0a9-4b12-bc83-d4cdc6134760' )">
    <div class="row">
        <div class="form-group">
            <div class="col-xs-12">
                <!--现有职能描述-->

                <div class="col-xs-6 required">
                    <fm-Group-Head title="{{form.$pageLang.ExistFunctionDescription }}"></fm-Group-Head>
                    <fm-textarea fm-model="form.hr07.existFunctionDescription"
                                 required
                                   max-length="2000"
                                  field-name="{{form.$pageLang.ExistFunctionDescription}}"
                                 ></fm-textarea>
                </div>
                <!--建议职能描述-->

                <div class="col-xs-6 required">
                    <fm-Group-Head title="{{ form.$pageLang.ProposedFunctionDesciption  }}"></fm-Group-Head>
                    <fm-textarea fm-model="form.hr07.proposedFunctionDesciption"
                                 required
                                   max-length="2000"
                                  field-name="{{form.$pageLang.ProposedFunctionDesciption}}"
                                 ></fm-textarea>
                </div>
            </div>
        </div>
    </div>
</div>
<div ng-if="(form.hr07.changeType=='f794eaa9-8427-489f-8484-c41ab5499b0a,699ee1ce-eb64-4dc8-a00e-b9a3f814e7b6') || (form.hr07.changeType=='699ee1ce-eb64-4dc8-a00e-b9a3f814e7b6,f794eaa9-8427-489f-8484-c41ab5499b0a') || (form.hr07.changeType=='699ee1ce-eb64-4dc8-a00e-b9a3f814e7b6') || (form.hr07.changeType=='f794eaa9-8427-489f-8484-c41ab5499b0a') || (form.hr07.changeType=='75af0bab-a0a9-4b12-bc83-d4cdc6134760,4f42eec7-c511-4fd0-9e22-3dfda9e713e8' || form.hr07.changeType=='4f42eec7-c511-4fd0-9e22-3dfda9e713e8,75af0bab-a0a9-4b12-bc83-d4cdc6134760' || form.hr07.changeType=='75af0bab-a0a9-4b12-bc83-d4cdc6134760' || form.hr07.changeType=='4f42eec7-c511-4fd0-9e22-3dfda9e713e8')">
    <div class="row">
        <div class="form-group">
            <div class="col-xs-12">
                <!--优点-->

                <div class="col-xs-6 required">
                    <fm-Group-Head title="{{ form.$pageLang.ExistOrgStrength}}"></fm-Group-Head>
                    <fm-textarea fm-model="form.hr07.existOrgStrength"
                                 required
                                   max-length="2000"
                                  field-name="{{form.$pageLang.ExistOrgStrength}}"
                                 ></fm-textarea>
                </div>
                <!--优点-->

                <div class="col-xs-6 required">
                    <fm-Group-Head title="{{ form.$pageLang.RecommendOrgStrength}}"></fm-Group-Head>
                    <fm-textarea fm-model="form.hr07.recommendOrgStrength"
                                 required
                                   max-length="2000"
                                 field-name="{{form.$pageLang.RecommendOrgStrength}}"></fm-textarea>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="form-group">
            <div class="col-xs-12">
                <!--存在的问题-->

                <div class="col-xs-6 required">
                    <fm-Group-Head title="{{ form.$pageLang.ExistFuncProblem  }}"></fm-Group-Head>
                    <fm-textarea fm-model="form.hr07.existFuncProblem"
                                  required
                                   max-length="2000"
                                field-name="{{form.$pageLang.ExistFuncProblem}}"></fm-textarea>
                </div>
                <!--潜在的风险-->

                <div class="col-xs-6 required">
                    <fm-Group-Head title="{{form.$pageLang.RecommendFuncPotentialRisks  }}"></fm-Group-Head>
                    <fm-textarea fm-model="form.hr07.recommendFuncPotentialRisks"
                                  required
                                   max-length="2000"
                                  field-name="{{form.$pageLang.RecommendFuncPotentialRisks}}"></fm-textarea>
                </div>
            </div>
        </div>
    </div>
</div>

<div  ng-if="(form.hr07.changeType=='f794eaa9-8427-489f-8484-c41ab5499b0a,699ee1ce-eb64-4dc8-a00e-b9a3f814e7b6') || (form.hr07.changeType=='699ee1ce-eb64-4dc8-a00e-b9a3f814e7b6,f794eaa9-8427-489f-8484-c41ab5499b0a') || (form.hr07.changeType=='f794eaa9-8427-489f-8484-c41ab5499b0a') || (form.hr07.changeType=='75af0bab-a0a9-4b12-bc83-d4cdc6134760,4f42eec7-c511-4fd0-9e22-3dfda9e713e8' || form.hr07.changeType=='4f42eec7-c511-4fd0-9e22-3dfda9e713e8,75af0bab-a0a9-4b12-bc83-d4cdc6134760' || form.hr07.changeType=='4f42eec7-c511-4fd0-9e22-3dfda9e713e8' )">
    <fm-Group-Head title="{{form.$pageLang.ProcedualDocuments  }}"></fm-Group-Head>
    <div class="row">
        <div class="form-group">
            <div class="col-xs-12 required">
                <fm-textarea fm-model="form.hr07.procedualDocuments"
                              field-name="{{form.$pageLang.ProcedualDocuments}}"></fm-textarea>
            </div>
        </div>
    </div>
</div>

<!--附件-->
<fm-Group-Head class="print-hide" title="{{ 'Attachment' |translate}}"></fm-Group-Head>
<div class="print-hide row">
    <div class="form-group">
        <div class="col-xs-12">
            <div class="col-xs-12">
                <fm-attachment form-files="form.$attachments"
                               link-id="0"
                               task-id='base.taskId'
                               node-id="base.nodeId"
                               draft-id="base.draftId"
                               fm-required="form.$pageRight.Hr07Node1"
                               fm-normal="form.$pageRight.Hr07Node1"
                               state="{{form.$pageRight.StartNode}}"
                               field-name="{{'UploadAttachment' |translate}}"
                               fm-model="form.$state.UploadAttachment"
                               button-name="{{ 'UploadAttachment' |translate}}"></fm-attachment>
            </div>
        </div>
    </div>
</div>

