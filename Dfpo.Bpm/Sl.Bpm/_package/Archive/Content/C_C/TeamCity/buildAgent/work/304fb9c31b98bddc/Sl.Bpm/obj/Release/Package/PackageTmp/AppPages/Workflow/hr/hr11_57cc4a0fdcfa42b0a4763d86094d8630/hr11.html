<!--人员岗位调动审批流程-->
<fm-form-title sn-number="{{base.snNumber}}" apply-date="{{base.applyDate}}" sub-title='base.title' fm-model="base.areaCode"></fm-form-title>
<fm-Group-Head class="print-hide" title="{{ base.$pageLang.ApplicantInfo }}"></fm-Group-Head>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人名字-->
            <span class="col-xs-2 control-label">{{ "ApplicantName" | translate }}</span>
            <div class="col-xs-4">
                <div class="input-group" style="width: 100%;">
                    <span class="form-label">{{base.applicant.userName}}</span>
                  
                </div>
            </div>
            <!--申请人员工号-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmployeeNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.employeeNumber}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <!--申请人部门线-->
        <div class="col-xs-12">
            <span class="col-xs-2 control-label">{{ "ApplicantDepartment" | translate }}</span>
            <div class="col-xs-10"><span class="form-label">{{base.applicant.departmentName}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人电话-->
            <span class="col-xs-2 control-label">{{ "ApplicantContactNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.contactNumber}}</span></div>
            <!--申请人邮箱-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmail" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.emailAddress}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人手机-->
            <span class="col-xs-2 control-label">{{ "ApplicantMobileNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.mobileNumber}}</span></div>
            <!--申请人直属领导-->
            <span class="col-xs-2 control-label">{{ "ApplicantDirectManager" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.directManagerName}}</span></div>
        </div>
    </div>
</div>

<fm-Group-Head title="{{ form.$pageLang.TransferEmployeeInformation }}"></fm-Group-Head>

<div class="row">
    <div class="col-xs-12">
        <div class="fm-detailinfo" ng-class="{'active':item.checked}" ng-repeat="item in form.hr10detail" detail-name="序号">
            <div class="row header">
                <div class="col-xs-12">
                    <input class="uniform"
                           ng-if="base.pageState==1 || form.$pageRight.StartNode == 'normal' "
                           type="checkbox" ng-model="item.checked" />
                    <strong class="input-sm">序号{{$index + 1}}</strong>
                </div>
            </div>
            <div class="content">
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--工号-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.HrNo"></span>
                        <div class="col-xs-8">
                            <fm-data-select view="GetEmployeeWhereTcApHqById"
                                            required
                                            field-name="{{form.$pageLang.HrNo}}"
                                            callback-func="form.chooseSupplier(selectItem,item)"
                                            fm-model="item.hrNo"></fm-data-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--姓名-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.StaffName"></span>
                        <div class="col-xs-8">
                            <fm-text readonly
                                     fm-model="item.staffName"></fm-text>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--性别-->
                        <span class="col-xs-4 control-label " ng-bind="form.$pageLang.Gender"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.gender"
                                       dataitem="HRRelated>EmployeePositionTransfer>Gender"></fm-select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--原区域-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.OriginalCompanyId"></span>
                        <div class="col-xs-8">
                            <fm-select readonly
                                      fm-model="item.originalCompanyId"
                                        view="GetAllCompany"
                           display-member="text"
                             value-member="id"></fm-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--原部门-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.OriginalDepartmentId"></span>
                        <div class="col-xs-8">
                            <fm-select  readonly
                                        view="GetGroupInfo"
                                       display-member="text"
                                        value-member="id"
                                     fm-model="item.originalDepartmentId"></fm-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--原科室-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.OriginalSectionId"></span>
                        <div class="col-xs-8">
                            <fm-select readonly
                                       view="GetGroupInfo"
                                       display-member="text"
                                       value-member="id"
                                       fm-model="item.originalSectionId"></fm-select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--原岗位-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.OriginalPositionId"></span>
                        <div class="col-xs-8">
                            <fm-select readonly
                                      view="GetAllJobName"
                                   display-member="jobName"
                                      value-member="id"
                                     fm-model="item.originalPositionId"></fm-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--原岗位是否有毒有害岗位-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.IsCurrentPositionPoison"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.isCurrentPositionPoison"
                                       dataitem="Common>YesOrNo"
                                       required
                                        fm-normal="form.$pageRight.Hr10Node1=='normal' && base.pageState==2"
                                     fm-disabled="!(form.$pageRight.Hr10Node1=='normal' && base.pageState==2)"
                                       field-name="{{form.$pageLang.IsCurrentPositionPoison}}"></fm-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--调入区域-->
                        <span class="col-xs-4 control-label " ng-bind="form.$pageLang.NewCompanyId"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.newCompanyId"
                                       view="GetHQ/TC/APInfo" display-member="text"
                                        readonly
                                       
                                       field-name="{{form.$pageLang.NewCompanyId}}"
                                       value-member="id"></fm-select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--调入部门-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.NewDeptId"></span>
                        <div class="col-xs-8">

                            <fm-data-select 
                                            fm-blur="form.$save(item)"
                                            i-clear
                                            group fm-model="item.newDeptId"></fm-data-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--调入科室-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.NewSectionId"></span>
                        <div class="col-xs-8">

                            <fm-data-select 
                                            fm-blur="form.$save(item)"
                                            i-clear
                                            group fm-model="item.newSectionId"></fm-data-select>

                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--调入岗位-->
                        <span class="col-xs-4 control-label required" ng-bind="form.$pageLang.NewPositionId"></span>
                        <div class="col-xs-8">
                            <fm-job-select fm-model="item.newPositionId" hideuser callback-func="form.selectjob(selectItem,item)" required field-name="{{form.$pageLang.NewPositionId}}"></fm-job-select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--调入岗位是否有毒有害岗位-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.IsNewPositionPoison"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.isNewPositionPoison"
                                       dataitem="Common>YesOrNo"
                                       required
                                         fm-normal="form.$pageRight.Hr10Node1=='normal' && base.pageState==2"
                                     fm-disabled="!(form.$pageRight.Hr10Node1=='normal' && base.pageState==2)"
                                       field-name="{{form.$pageLang.IsNewPositionPoison}}"></fm-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--直属经理-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.DirectManager"></span>
                        <div class="col-xs-8">
                            <fm-text readonly
                                     fm-model="item.directManager"></fm-text>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--员工属性-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.EmployeeProperty"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.employeeProperty"
                                       dataitem="HRRelated>EmployeePositionTransfer>EmployeeProperty"
                                       required
                                       field-name="{{form.$pageLang.EmployeeProperty}}"></fm-select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 cell">
                        <!--生效日期-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.EffectiveDate"></span>
                        <div class="col-xs-8">
                            <fm-datetime fm-model="item.effectiveDate"
                                         date
                                         required
                                         field-name="{{form.$pageLang.EffectiveDate}}"></fm-datetime>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--变更类别-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.ChangeType"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.changeType"
                                       dataitem="HRRelated>EmployeePositionTransfer>EmployeeTransferType"
                                       required
                                       ismulti
                                       field-name="{{form.$pageLang.ChangeType}}"></fm-select>
                        </div>
                    </div>
                    <div class="col-xs-4 cell">
                        <!--是否转移人头预算-->
                        <span class="col-xs-4 control-label" ng-bind="form.$pageLang.IsHeadcountBudgetAdjustment"></span>
                        <div class="col-xs-8">
                            <fm-select fm-model="item.isHeadcountBudgetAdjustment"
                                       dataitem="Common>YesOrNo"
                                       required
                                       field-name="{{form.$pageLang.IsHeadcountBudgetAdjustment}}"></fm-select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-12">
                <div class="pull-right">
                    <input ng-if="base.pageState==1 || (form.$pageRight.StartNode == 'normal' && base.pageState==2) " type="button" class="btn btn-sm btn-info" ng-click="form.add()" value="{{ 'Add' |translate}}" />
                    <input ng-if="base.pageState==1 || (form.$pageRight.StartNode == 'normal' && base.pageState==2) " type="button" class="btn btn-sm btn-danger" ng-click="form.delete()" value="{{ 'Delete' |translate}}" />
                </div>
            </div>
        </div>
    </div>
</div>
<div ng-if="form.$pageRight.Hr10Node8=='normal'">
    <fm-Group-Head title="{{ form.$pageLang.NewDeptOpinion }}"></fm-Group-Head>
    <div class="row">
        <div class="form-group">
            <div class="col-xs-12">
                <!--直接经理意见1-->
                <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.DirectManagerProposal"></span>
                <div class="col-xs-2">
                    <fm-radiolist fm-model="form.hr10.newDeptOpinion"
                                  required
                                  callback-func="form.clearnewDeptApprove()"
                                   fm-normal="form.$pageRight.Hr10Node2=='normal' && base.pageState==2"
                                  dataitem="HRRelated>EmployeePositionTransfer>ManagerOpinion"
                                  field-name="{{form.$pageLang.DirectManagerProposal}}">

                    </fm-radiolist>
                </div>
                <div class="col-xs-4" ng-if="form.hr10.newDeptOpinion=='54863d88-5ea2-4171-b23d-b167a132a75d'">
                    <fm-radiolist fm-model="form.hr10.newDeptApprove"
                                  required
                                   callback-func="form.clearsetFamiliarPeriod()"
                                    fm-normal="form.$pageRight.Hr10Node2=='normal' && base.pageState==2"
                                  dataitem="HRRelated>EmployeePositionTransfer>ApproveType"
                                  field-name="{{form.$pageLang.ApproveType}}">

                    </fm-radiolist>
                </div>

                <div class="col-xs-4" ng-if="form.hr10.newDeptOpinion=='54863d88-5ea2-4171-b23d-b167a132a75d'&&form.hr10.newDeptApprove=='8360094f-8b09-4fac-8e9e-29ba5bd2d166'">
                    <fm-select   fm-normal="form.$pageRight.Hr10Node2=='normal' && base.pageState==2"    dataitem="HRRelated>EmployeePositionTransfer>PerformanceGoal" display-member="text" value-member="id" required fm-model="form.hr10.setFamiliarPeriod" field-name="{{form.$pageLang.SetFamiliarPeriod}}">></fm-select>
                </div>
            </div>
        </div>
    </div>
</div>


<fm-Group-Head title="{{ form.$pageLang.HRConfirm}}"></fm-Group-Head>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--是否涉及管理人员任免-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.IsManagementAppoint"></span>
            <div class="col-xs-4">
                <fm-select dataitem="Common>YesOrNo" fm-disabled="!(form.$pageRight.Hr10Node3=='normal' && base.pageState==2)"  fm-normal="form.$pageRight.Hr10Node3=='normal' && base.pageState==2" required fm-model="form.hr10.isManagementAppoint" field-name="{{form.$pageLang.IsManagementAppoint}}"></fm-select>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--级别确认-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Level"></span>
            <div class="col-xs-4">
                <fm-select fm-normal="form.$pageRight.Hr10Node4=='normal' && base.pageState==2" fm-disabled="!(form.$pageRight.Hr10Node4=='normal' && base.pageState==2)" dataitem="HRRelated>EmployeePositionTransfer>PositionLevel" required fm-model="form.hr10.level" field-name="{{form.$pageLang.Level}}"></fm-select>
            </div>
            <!--员工确认-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.IsNeedStaffConfirm"></span>
            <div class="col-xs-4">
                <fm-radiolist fm-model="form.hr10.isNeedStaffConfirm"
                              required
                              fm-normal="form.$pageRight.Hr10Node4=='normal' && base.pageState==2" fm-disabled="!(form.$pageRight.Hr10Node4=='normal' && base.pageState==2)"
                              dataitem="HRRelated>EmployeePositionTransfer>EmployeeConfirmation"
                              field-name="{{form.$pageLang.IsNeedStaffConfirm}}">
                </fm-radiolist>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--调出部门体检结果-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.MedicalTestResult"></span>
            <div class="col-xs-10">
                <fm-radiolist fm-model="form.hr10.medicalTestResultOriginalDept"
                              required
                               fm-normal="form.$pageRight.Hr10Node5=='normal' && base.pageState==2" fm-disabled="!(form.$pageRight.Hr10Node5=='normal' && base.pageState==2)"
                              dataitem="HRRelated>EmployeePositionTransfer>PhysicalResults"
                              field-name="{{form.$pageLang.MedicalTestResult}}">
                </fm-radiolist>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--调入部门体检结果-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.MedicalTestResultNewDept"></span>
            <div class="col-xs-10">
                <fm-radiolist fm-model="form.hr10.medicalTestResultNewDept"
                              required
                               fm-normal="(form.$pageRight.Hr10Node6=='normal' && base.pageState==2) && base.currentUserId=='60EFCF46-1E43-4A29-91F0-22DEBEC02BD8'" fm-disabled="!(form.$pageRight.Hr10Node6=='normal' && base.pageState==2)"
                              dataitem="HRRelated>EmployeePositionTransfer>PhysicalResults"
                              field-name="{{form.$pageLang.MedicalTestResultNewDept}}">
                </fm-radiolist>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--调整薪资-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.IsCompensationAdjustment"></span>
            <div class="col-xs-4">
                <fm-checklist required  field-name="{{form.$pageLang.IsCompensationAdjustment}}"  fm-normal="(form.$pageRight.Hr10Node6=='normal' && base.pageState==2) && base.currentUserId=='D1FEC776-3393-481E-981C-5EF975924625'" fm-disabled="!(form.$pageRight.Hr10Node6=='normal' && base.pageState==2)"
                              dataitem="HRRelated>EmployeePositionTransfer>Confirm" fm-model="form.hr10.isCompensationAdjustment">
                               
                </fm-checklist>
            </div>
            <!--调整培训-->
            <span class="col-xs-2 control-label required " ng-bind="form.$pageLang.IsTrainingAdjustment"></span>
            <div class="col-xs-4">
                <fm-radiolist fm-model="form.hr10.isTrainingAdjustment"
                              required
                               fm-normal="(form.$pageRight.Hr10Node6=='normal' && base.pageState==2) && base.currentUserId=='531F49FC-C435-40EE-B9B4-8E1FD2260CBB'" fm-disabled="!(form.$pageRight.Hr10Node6=='normal' && base.pageState==2)"
                              dataitem="HRRelated>EmployeePositionTransfer>AdjustTraining"
                              field-name="{{form.$pageLang.IsTrainingAdjustment}}">
                </fm-radiolist>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--调整福利-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.IsBenefitsAdjustment"></span>
            <div class="col-xs-4">
                <fm-checklist required field-name="{{form.$pageLang.IsBenefitsAdjustment}}"  fm-normal="(form.$pageRight.Hr10Node6=='normal' && base.pageState==2) && base.currentUserId=='D1FEC776-3393-481E-981C-5EF975924625'" fm-disabled="!(form.$pageRight.Hr10Node6=='normal' && base.pageState==2)"
                              dataitem="HRRelated>EmployeePositionTransfer>Confirm" fm-model="form.hr10.isBenefitsAdjustment">

                </fm-checklist>
            </div>
            <!--开具调令-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.IsTransferAnnouncement"></span>
            <div class="col-xs-4">
                <fm-checklist required field-name="{{form.$pageLang.IsTransferAnnouncement}}"
                              dataitem="HRRelated>EmployeePositionTransfer>Confirm" fm-model="form.hr10.isTransferAnnouncement" fm-normal="form.$pageRight.Hr10Node7=='normal' && base.pageState==2" fm-disabled="!(form.$pageRight.Hr10Node7=='normal' && base.pageState==2)">
                              
                </fm-checklist>
            </div>
        </div>
    </div>
</div>
<!--附件-->
<fm-Group-Head class="print-hide" title="{{ 'Attachment' |translate}}"></fm-Group-Head>
<div class="print-hide row">
    <div class="form-group">
        <div class="col-xs-12">
         
            <div class="col-xs-12">
                <fm-attachment form-files="form.$attachments"
                               link-id="0"
                               task-id='base.taskId'
                               node-id="base.nodeId"
                               draft-id="base.draftId"
                               
                               state="{{form.$pageRight.StartNode}}"
                               field-name="{{'UploadAttachment' |translate}}"
                               fm-model="form.$state.UploadAttachment"
                               button-name="{{ 'UploadAttachment' |translate}}"></fm-attachment>
            </div>
        </div>
    </div>
</div>
