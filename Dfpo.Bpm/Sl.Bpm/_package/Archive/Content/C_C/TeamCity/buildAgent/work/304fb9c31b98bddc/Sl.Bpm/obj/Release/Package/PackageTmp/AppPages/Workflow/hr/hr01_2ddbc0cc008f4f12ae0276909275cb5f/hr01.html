<!--请假申请流程-->
<fm-form-title sn-number="{{base.snNumber}}" apply-date="{{base.applyDate}}" sub-title='base.title' fm-model="base.areaCode"></fm-form-title>

<fm-Group-Head title="{{ base.$pageLang.ApplicantInfo }}"></fm-Group-Head>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人名字-->
            <span class="col-xs-2 control-label">{{ "ApplicantName" | translate }}</span>
            <div class="col-xs-4">
                <div class="input-group" style="width: 100%;">
                    <span class="form-label">{{base.applicant.userName}}</span>
                    <!--<span class="input-group-btn" ng-if="!taskid">
                        <button class="btn btn-default" type="button" ng-click="base.$selectApplicant()">{{ "Choose" | translate }}</button>
                    </span>-->
                </div>
            </div>
            <!--申请人员工号-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmployeeNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.employeeNumber}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <!--申请人部门线-->
        <div class="col-xs-12">
            <span class="col-xs-2 control-label">{{ "ApplicantDepartment" | translate }}</span>
            <div class="col-xs-10"><span class="form-label">{{base.applicant.departmentName}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人电话-->
            <span class="col-xs-2 control-label">{{ "ApplicantContactNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.contactNumber}}</span></div>
            <!--申请人邮箱-->
            <span class="col-xs-2 control-label">{{ "ApplicantEmail" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.emailAddress}}</span></div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <!--申请人手机-->
            <span class="col-xs-2 control-label">{{ "ApplicantMobileNumber" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.mobileNumber}}</span></div>
            <!--申请人直属领导-->
            <span class="col-xs-2 control-label">{{ "ApplicantDirectManager" | translate }}</span>
            <div class="col-xs-4"><span class="form-label">{{base.applicant.directManagerName}}</span></div>
        </div>
    </div>
</div>

<fm-Group-Head title="{{ form.$pageLang.LeaveInfo }}"></fm-Group-Head>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--发起人手机-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.Tel"></span>
            <div class="col-xs-4">
                <fm-text required
                         state="{{form.$pageRight.StartNode}}"
                         field-name="{{form.$pageLang.Tel}}"
                         fm-blur="form.CheckMobile()"
                         fm-model="form.hr01.tel"></fm-text> 
            </div>
            <!--家庭电话-->
            <span class="col-xs-2 control-label " ng-bind="form.$pageLang.HomeTel"></span>
            <div class="col-xs-4">
                <fm-text state="{{form.$pageRight.StartNode}}"  
                         fm-model="form.hr01.homeTel"></fm-text> 
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--家庭住址-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.HomeAddress"></span>
            <div class="col-xs-10">
                <fm-text required
                         state="{{form.$pageRight.StartNode}}"
                         field-name="{{form.$pageLang.HomeAddress}}" 
                         max-length="100"
                         fm-model="form.hr01.homeAddress"></fm-text> 
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--请假类型-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.LeaveType"></span>
            <div class="col-xs-4">
                <fm-select   class="uniform" 
                              field-name="{{form.$pageLang.LeaveType}}" 
                              required 
                              display-member="text"
                              value-member="value"
                              state="{{form.$pageRight.StartNode}}"
                              dataitem="HRRelated>LeaveRequest>LeaveBigType"
                              fm-model="form.hr01.leaveType"></fm-select> 
            </div>
            <!--入职日期-->
            <!--<span class="col-xs-2 control-label required" ng-bind="form.$pageLang.ServiceDate"></span>
            <div class="col-xs-4">
                <fm-datetime date
                             required 
                             state="{{form.$pageRight.StartNode}}"
                             field-name="{{form.$pageLang.ServiceDate}}"
                             fm-model="form.hr01.serviceDate"></fm-datetime>
            </div>-->
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--具体类别-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.DetailType"></span>
            <div class="col-xs-4">
                <fm-select class="uniform"
                           field-name="{{form.$pageLang.DetailType}}"
                           required 
                           view="GetDetailLevelType"
                           filter="{leaveType: form.hr01.leaveType}"
                           fm-disabled="form.hr01.leaveType==2||form.$pageRight.StartNode != 'normal'"
                           fm-model="form.hr01.detailType"></fm-select> 
            </div>
            <!--其他假-->
            <span ng-if="form.hr01.detailType=='10'" class="col-xs-2 control-label required" ng-bind="form.$pageLang.OtherLeaveType"></span>
            <div ng-if="form.hr01.detailType=='10'" class="col-xs-4">
                <fm-select class="uniform"
                           field-name="{{form.$pageLang.OtherLeaveType}}"
                           required
                           state="{{form.$pageRight.StartNode}}"
                           dataitem="HRRelated>LeaveRequest>OtherLeaveType"
                           fm-model="form.hr01.otherLeaveType"></fm-select> 
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--请假日期-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.LeaveDates"></span>
            <div class="col-xs-4">
                <div class="area-date" split="到">
                    <fm-datetime date
                                 required fm-blur="form.Start(item)"
                                 state="{{form.$pageRight.StartNode}}"
                                 field-name="{{form.$pageLang.LeaveDates}}"
                                 fm-model="form.hr01.leaveDateFrom"></fm-datetime>
                    <fm-datetime date
                                 required fm-blur="form.End(item)"
                                 state="{{form.$pageRight.StartNode}}"
                                 field-name="{{form.$pageLang.LeaveDates}}"
                                 fm-model="form.hr01.leaveDateTo"></fm-datetime>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--请假时长-->
            <span class="col-xs-2 control-label required" ng-bind="form.$pageLang.LeaveHours"></span>
            <div class="col-xs-4">
                <fm-number unit="{{leavetypeHours}}"
                           field-name="{{form.$pageLang.LeaveHours}}" 
                           callback-func="form.CheckDay(data)"
                           fm-disabled="form.hr01.detailType==''||form.hr01.detailType==null||form.$pageRight.StartNode != 'normal'"
                           fm-model="form.hr01.leaveHours"></fm-number>
                <!--callback-func="form.sum(data)"-->  
            </div>
        
        </div>
    </div>
</div>
<fm-Group-Head title="{{ form.$pageLang.LeaveDescription }}"></fm-Group-Head>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12">
            <!--请假说明-->
            <span class="col-xs-2 control-label" ng-bind="form.$pageLang.LeaveDescription"></span>
            <div class="col-xs-10">
                <fm-textarea state="{{form.$pageRight.StartNode}}"
                             field-name="{{form.$pageLang.LeaveDescription}}"
                             fm-model="form.hr01.leaveDescription"
                             max-length="500"
                             fm-placeholder="{{form.$pageLang.DescriptionInput}}"></fm-textarea>
            </div>
        </div>
    </div>
</div>
<!--附件-->
<fm-Group-Head ng-if="((form.hr01.detailType == '2'||form.hr01.detailType == '3'||form.hr01.detailType == '4'||form.hr01.detailType == '5'||form.hr01.detailType == '6'||form.hr01.detailType == '7'||form.hr01.detailType == '9'||form.hr01.detailType == '10')&&form.hr01.leaveType=='1')||(form.hr01.leaveType=='2'&&form.hr01.leaveHours>=3)" class="print-hide required" title="{{ 'Attachment' |translate}}"></fm-Group-Head>
<fm-Group-Head ng-if="((form.hr01.detailType != '2'&&form.hr01.detailType != '3'&&form.hr01.detailType != '4'&&form.hr01.detailType != '5'&&form.hr01.detailType != '6'&&form.hr01.detailType != '7'&&form.hr01.detailType != '9'&&form.hr01.detailType != '10')&&form.hr01.leaveType=='1')||(form.hr01.leaveType=='2'&&(form.hr01.leaveHours<3||form.hr01.leaveHours==null))" class="print-hide" title="{{ 'Attachment' |translate}}"></fm-Group-Head>
<div class="print-hide row">
    <div class="form-group">
        <div class="col-xs-12">
         <!--   <span class="col-xs-2 control-label required">附件</span>-->
            <div class="col-xs-4">
                <fm-attachment form-files="form.$attachments"
                               link-id="0"
                               task-id='base.taskId'
                               node-id="base.nodeId"
                               draft-id="base.draftId"
                               required
                               ng-if="((form.hr01.detailType == '2'||form.hr01.detailType == '3'||form.hr01.detailType == '4'||form.hr01.detailType == '5'||form.hr01.detailType == '6'||form.hr01.detailType == '7'||form.hr01.detailType == '9'||form.hr01.detailType == '10')&&form.hr01.leaveType=='1')||(form.hr01.leaveType=='2'&&form.hr01.leaveHours>=3)" 
                               state="{{form.$pageRight.StartNode}}"
                               field-name="{{'UploadAttachment' |translate}}"
                               fm-model="form.$state.UploadAttachment"
                               button-name="{{ 'UploadAttachment' |translate}}"></fm-attachment>
                <fm-attachment form-files="form.$attachments"
                               link-id="0"
                               ng-if="((form.hr01.detailType != '2'&&form.hr01.detailType != '3'&&form.hr01.detailType != '4'&&form.hr01.detailType != '5'&&form.hr01.detailType != '6'&&form.hr01.detailType != '7'&&form.hr01.detailType != '9'&&form.hr01.detailType != '10')&&form.hr01.leaveType=='1')||(form.hr01.leaveType=='2'&&(form.hr01.leaveHours<3||form.hr01.leaveHours==null))"
                               task-id='base.taskId'
                               node-id="base.nodeId"
                               draft-id="base.draftId" 
                               state="{{form.$pageRight.StartNode}}"
                               field-name="{{'UploadAttachment' |translate}}"
                               fm-model="form.$state.UploadAttachment"
                               button-name="{{ 'UploadAttachment' |translate}}"></fm-attachment>
            </div>
        </div>
    </div>
</div>