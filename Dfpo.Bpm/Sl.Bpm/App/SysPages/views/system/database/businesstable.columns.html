<div ng-controller="system.database.column as vm">
    <div ng-if="vm.models != null && vm.models.length > 0">
        <h3 ng-bind="vm.model.schemaName + '（'+ vm.model.aliasName +' ' + vm.model.name+'）'"></h3>
        <ma-tabs>
            <!--常规-->
            <ma-panel data-title="{{ 'Common' | translate}}" name="basic">
                <div class="row">
                    <div class="modal-user">
                        <div class="panel">
                            <div class="panel-heading">
                                搜索
                                <div class="selectTxt icon-search" style="width: calc(100% - 60px);">
                                    <input type="text" value="" placeholder="输入内容搜索" ng-model="vm.selectTxt" ng-blur="vm.select()" ng-keydown="vm.event_Keydown($event)" />
                                </div>
                            </div>
                            <div class="panel-body">
                                <table class="table table-striped table-hover ">
                                    <thead>
                                        <tr>
                                            <th width="10%">{{ 'FieldCode' | translate}}</th>
                                            <th width="8%">{{ 'FieldName' | translate}}</th>
                                            <th width="6%">{{ 'Type' | translate}}</th>
                                            <th width="5%">{{ 'Length' | translate}}</th>
                                            <th width="5%">{{ 'Required' | translate}}</th>
                                            <th width="10%">{{'SourceType' | translate}}</th>
                                            <th width="15%">{{ 'Content' | translate}}</th>
                                            <th>{{ 'RequirementDescription' | translate}}</th>
                                            <!--<th width="8%">操作</th>-->
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in vm.models">
                                            <td>{{item.schemaName}}</td>
                                            <td>{{item.name}}</td>
                                            <td>{{item.type | enumfilter:'tableColumnType'}}</td>
                                            <td>{{item.maxLength}}</td>
                                            <td><ma-checkbox ng-model="item.isRequired" disabled></ma-checkbox></td>
                                            <td><ma-select items="vm.sourceTypes" ng-model="item.whereInputType" callback-func="vm.saveColumn(item)"></ma-select></td>
                                            <td><input class="form-control" ng-model="item.whereInputContent" ng-blur="vm.saveColumn(item)" /></td>
                                            <td>{{item.memo}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </ma-panel>
            <!--数据维护配置-->
            <!--<ma-panel data-title="{{ 'DataMaintenanceSettings' | translate}}" name="dataInputConfig">
                <div class="form-group">
                    <div class="col-lg-12">
                        <table class="table table-striped table-hover ">
                            <thead>
                            <tr>
                                <th width="10%">{{ 'Code' | translate}}</th>
                                <th width="20%">{{ 'Name' | translate}}</th>
                                <th width="10%">{{ 'WhetherVisible' | translate}}</th>
                                <th width="10%">{{ 'Alignment' | translate}}</th>
                                <th width="15%">{{ 'Type' | translate}}</th>
                                <th width="35%">{{ 'Content' | translate}}</th>

                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="item in vm.models">
                                <td>{{item.schemaName}}</td>
                                <td>{{item.name}}</td>
                                <td><ma-checkbox ng-model="item.isDisplayEnable" ng-change="vm.saveColumn(item)"></ma-checkbox></td>
                                <td>
                                    <select class="form-control" ng-model="item.alignment" ng-change="vm.saveColumn(item)">
                                        <option value="L">{{ 'Left' | translate}}</option>
                                        <option value="M">{{ 'Center' | translate}}</option>
                                        <option value="R">{{ 'Right' | translate}}</option>
                                    </select>
                                </td>
                                <td>{{item.whereInputType}}</td>
                                <td>{{item.whereInputContent}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </ma-panel>-->
            <!--数据查询配置-->
            <ma-panel data-title="{{ 'DataQuerySettings' | translate}}" name="whereInputConfig">
                <div class="form-group">
                    <div class="col-lg-12">
                        <table class="table table-striped table-hover ">
                            <thead>
                                <tr>
                                    <th width="10%">{{ 'Code' | translate}}</th>
                                    <th width="10%">{{ 'Name' | translate}}</th>
                                    <th width="8%">{{ 'CanAssociate' | translate}}</th>
                                    <th width="8%">{{ 'CanQuery' | translate}}</th>
                                    <th width="8%">{{ 'CanSort' | translate}}</th>
                                    <th width="8%">{{ 'CanGroup' | translate}}</th>
                                    <th width="8%">{{ 'CanStatistics' | translate}}</th>
                                </tr>
                            </thead>
                            <tbody ng-sortable="vm.barConfig">
                                <tr ng-repeat="item in vm.models">
                                    <td>{{item.schemaName}}</td>
                                    <td>{{item.name}}</td>
                                    <td><ma-checkbox ng-model="item.isLinkEnable" ng-change="vm.saveColumn(item)"></ma-checkbox></td>
                                    <td><ma-checkbox ng-model="item.isWhereEnable" ng-change="vm.saveColumn(item)"></ma-checkbox></td>
                                    <td><ma-checkbox ng-model="item.isOrderByEnable" ng-change="vm.saveColumn(item)"></ma-checkbox></td>
                                    <td><ma-checkbox ng-model="item.isGroupByEnable" ng-change="vm.saveColumn(item)"></ma-checkbox></td>
                                    <td><ma-checkbox ng-model="item.isAggregateEnable" ng-change="vm.saveColumn(item)"></ma-checkbox></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </ma-panel>
        </ma-tabs>

    </div>
</div>