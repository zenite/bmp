<div class="container-ui" ng-controller="syspages.views.my.file as vm">
    <div class="row">
        <div class="form-group">
            <div class="col-lg-12">
                <button class="btn btn-default" ng-click="vm.load()"><i class="icon icon-refresh"></i> {{ 'Refresh' | translate}}</button>
            </div>
        </div>
        <div class="col-lg-12">

            <table class="table table-striped table-hover table-condensed">
                <thead>
                <tr>
                    <th data-width="100">{{ 'FileName' | translate}}</th>
                    <th data-width="200">{{ 'Source' | translate}}</th>
                    <th data-width="200">{{ 'SourceIdentifier' | translate}}</th>
                    <th data-width="200">{{ 'CreationTime' | translate}}</th>
                    <th data-width="200">{{ 'CompletionTime' | translate}}</th>
                    <th data-width="200">{{ 'Downloads' | translate}}</th>
                    <th data-width="200">{{ 'Status' | translate }}</th>
                    <th data-width="100" class="sort-disabled">{{ 'Operation' | translate}}</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in vm.models">
                    <td>{{item.fileName}}</td>
                    <td>{{item.sourceText}}</td>
                    <td>{{item.sourceIdentity}}</td>
                    <td>{{item.creationTime | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td>{{item.completionTime | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td>{{item.downloadTimes}}</td>
                    <td>{{item.status | enumfilter:'fileStatus'}}</td>
                    <td>
                        <i ng-if="item.status != 1" class="icon">{{ 'WaitingDownload' | translate }}</i>
                        <button ng-if="item.status == 1 && item.downloadTimes == 0" class="icon icon-download-alt" ng-click="vm.downLoadFile(item)">{{ 'Download' | translate }}</button>
                        <i ng-if="item.status == 1 && item.downloadTimes > 0" class="icon">已下载</i>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="col-lg-12">
            <div class="col-xs-10" style="text-align: right;" ng-if="vm.paging.totalCount > 0">
                <div class="col-xs-10">
                    <ma-pager ng-if="vm.paging.totalCount > vm.paging.pageSize" current-page="vm.paging.currentPage" load="vm.load()" total-count="vm.paging.totalCount" page-size="vm.paging.pageSize"></ma-pager>
                </div>
                <div class="col-xs-2">
                    <span style="vertical-align: -webkit-baseline-middle;">{{ "Count" | translate}}：{{vm.paging.totalCount}}</span>
                </div>
            </div>

        </div>
    </div>
</div>



